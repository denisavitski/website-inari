function ir(e,t){if(!e)return null;let s=e.parentElement;return e.parentElement instanceof t||(s=ir(e.parentElement,t)),s}function ze(e,t=document){return typeof e=="string"?t.querySelector(e):e}function Wh(e,t=null){if(t=t||e,!e||!(e instanceof HTMLElement))return document.body;if(t!==e){const s=getComputedStyle(e);if(s.overflow.includes("auto")||s.overflow.includes("scroll"))return e}return Wh(e.parentNode,t)}function du(e){let t=[];return document.documentElement.addEventListener("__illuminate-tree",s=>{s.composedPath().forEach(n=>{n instanceof HTMLElement&&t.push(n)})},{once:!0}),e.dispatchEvent(new CustomEvent("__illuminate-tree",{bubbles:!0,composed:!0})),t}var tl=e=>{throw TypeError(e)},el=(e,t,s)=>t.has(e)||tl("Cannot "+s),ge=(e,t,s)=>(el(e,t,"read from private field"),t.get(e)),Za=(e,t,s)=>t.has(e)?tl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),mc=(e,t,s,n)=>(el(e,t,"write to private field"),t.set(e,s),s);const $=typeof window<"u"&&typeof window.document<"u";var ke,vr,ro;let pu=class{constructor(){Za(this,ke,[]),Za(this,vr,null),Za(this,ro,t=>{ge(this,ke).map(s=>({subscriber:s,entry:t.find(n=>n.target===s.element)})).forEach(s=>{s.entry&&(s.subscriber.entry=s.entry,s.subscriber.callback(s.entry))})}),$&&window.IntersectionObserver&&mc(this,vr,new IntersectionObserver(ge(this,ro)))}subscribe(t,s){const n=ze(t);if(!n)return()=>{};const h=ge(this,ke).find(a=>a.element===n);if(!h)ge(this,vr).observe(n);else{const a=ge(this,ke).find(o=>o.element===n&&o.entry);a!=null&&a.entry.isIntersecting&&s(a.entry)}return ge(this,ke).push({element:n,callback:s,entry:h?.entry||null}),()=>{this.unsubscribe(s)}}unsubscribe(t){const s=ge(this,ke).find(n=>n.callback===t);s&&(mc(this,ke,ge(this,ke).filter(n=>n.callback!==t)),ge(this,ke).find(n=>n.element===s.element)||ge(this,vr).unobserve(s.element))}};ke=new WeakMap,vr=new WeakMap,ro=new WeakMap;const Ya=new pu;var sl=e=>{throw TypeError(e)},jo=(e,t,s)=>t.has(e)||sl("Cannot "+s),_=(e,t,s)=>(jo(e,t,"read from private field"),s?s.call(e):t.get(e)),Se=(e,t,s)=>t.has(e)?sl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),le=(e,t,s,n)=>(jo(e,t,"write to private field"),t.set(e,s),s),mu=(e,t,s)=>(jo(e,t,"access private method"),s),Es;let fu=class{constructor(){Se(this,Es),this.storage=null,this.name="store-registry",le(this,Es,null),$&&(this.storage=localStorage)}get loadedState(){return _(this,Es)}saveState(){const t=this.getState(),s=JSON.stringify(t);localStorage.setItem(this.name,s)}loadState(t=localStorage.getItem(this.name)){t&&(typeof t=="string"?le(this,Es,JSON.parse(t)):le(this,Es,t),hs.current.forEach(s=>{s.name&&this.updateStore(s)}))}resetState(){hs.current.forEach(t=>{t.name&&t.reset()}),this.saveState()}updateStore(t){var s,n;if(!Array.isArray((s=_(this,Es))==null?void 0:s.stores))return t;if(t.name){const h=(n=_(this,Es))==null?void 0:n.stores.find(a=>a.name===t.name);h&&(t.current=h.value)}return t}getState(){const t={stores:[]};return hs.current.forEach(s=>{s.name&&(t.stores.find(n=>n.name===s.name)||t.stores.push({value:s.current,name:s.name}))}),t}};Es=new WeakMap;const vu=new fu;var gr,yt,qh,Ye,Vh,$e,Rh,Dh,ho,il;let st=class{constructor(t,s){Se(this,ho),Se(this,gr),Se(this,yt),Se(this,qh),Se(this,Ye,new Set),Se(this,Vh),Se(this,$e),Se(this,Rh),Se(this,Dh),le(this,gr,s?.name),this.__manager=s?.__manager,le(this,yt,{initial:t,previous:void 0,current:t}),le(this,qh,s?.equalityCheck||((n,h)=>n===h)),s!=null&&s.validate&&this.addMiddleware(s.validate),le(this,Rh,s?.notifyAndClose||!1),le(this,Dh,s?.invisible||!1),le(this,Vh,s?.skipSubscribeNotification||!1),_(this,gr)&&vu.updateStore(this)}get name(){return _(this,gr)}get initial(){return _(this,yt).initial}get previous(){return _(this,yt).previous}get current(){return _(this,yt).current}set current(t){if(!_(this,qh).call(this,_(this,yt).current,t)){if(_(this,yt).previous=_(this,yt).current,_(this,$e))for(const s of _(this,$e))t=s(t);_(this,yt).current=t,mu(this,ho,il).call(this),_(this,Rh)&&this.close()}}get subscribers(){return _(this,Ye)}addMiddleware(t){_(this,$e)||le(this,$e,new Set),_(this,$e).add(t)}removeMiddleware(t){var s,n;(s=_(this,$e))==null||s.delete(t),(n=_(this,$e))!=null&&n.size||le(this,$e,void 0)}subscribe(t){return!_(this,Dh)&&!_(this,Ye).size&&gu(this),_(this,Ye).add(t),_(this,Vh)||t(_(this,yt)),()=>{this.unsubscribe(t)}}unsubscribe(t){_(this,Ye).delete(t),_(this,Ye).size||fc(this)}reset(){this.current=Array.isArray(this.initial)?[...this.initial]:this.initial}close(){_(this,Ye).clear(),_(this,yt).previous=void 0,_(this,yt).current=_(this,yt).initial,fc(this)}};gr=new WeakMap,yt=new WeakMap,qh=new WeakMap,Ye=new WeakMap,Vh=new WeakMap,$e=new WeakMap,Rh=new WeakMap,Dh=new WeakMap,ho=new WeakSet,il=function(){for(const e of _(this,Ye))e(_(this,yt))};const hs=new st([],{invisible:!0});function gu(e){hs.current.includes(e)||(hs.current=[...hs.current,e])}function fc(e){hs.current.includes(e)&&(hs.current=hs.current.filter(t=>t!==e))}const Xs=(e,t=100)=>{let s;return(...n)=>{clearTimeout(s),s=setTimeout(()=>e(...n),t)}},bu=(e,t=0)=>{let s=!1;return(...n)=>{s||(s=!0,setTimeout(()=>{e(...n),s=!1},t))}};var nl=e=>{throw TypeError(e)},rl=(e,t,s)=>t.has(e)||nl("Cannot "+s),wu=(e,t,s)=>(rl(e,t,"read from private field"),s?s.call(e):t.get(e)),yu=(e,t,s)=>t.has(e)?nl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),Eu=(e,t,s,n)=>(rl(e,t,"write to private field"),t.set(e,s),s),Fh;let ao=class extends st{constructor(t,s,n){super(null,n),yu(this,Fh),Eu(this,Fh,t.subscribe(h=>{this.current=s(h.current)}))}close(){super.close(),wu(this,Fh).call(this)}};Fh=new WeakMap;function ku(){const e=new st([]),t=new ao(e,a=>{const o=a.reduce((w,v)=>w+parseInt(v.price.toString())*v.amount,0),p=a.reduce((w,v)=>w+v.amount,0);return{fullPrice:o,fullAmount:p}});function s(a){let o=e.current.find(p=>p.pid===a.pid);o?a.amount?(o.amount=a.amount,e.current=[...e.current]):e.current=e.current.filter(p=>p.pid!==a.pid):a.amount&&(o={...a},e.current=[...e.current,o])}function n(a,o){const p=e.current.find(w=>w.pid===a);p&&p.amount!==o&&(p.amount=o,e.current=[...e.current])}function h(a){e.current=e.current.filter(o=>o.pid!==a)}return{store:t,setItem:s,removeItem:h,updateItem:n,subscribe:t.subscribe.bind(t),unsubscribe:t.unsubscribe.bind(t),get items(){return e.current},get prevItems(){return e.previous},get fullPrice(){return t.current.fullPrice},get fullAmount(){return t.current.fullAmount}}}const x=ku();function Su(){let e=[];const t=new st(null);function s(o){e.find(p=>p.name===o.name)||e.push(o)}function n(o){e=e.filter(p=>p.name!==o)}function h(o){t.current=e.find(p=>p.name===o)||null}function a(o){return e.find(p=>p.name===o)}return{addZone:s,removeZone:n,setUserZone:h,findZone:a,subscribe:t.subscribe.bind(t),unsubscribe:t.unsubscribe.bind(t),get list(){return JSON.parse(JSON.stringify(e))},get userZone(){return t.current}}}const Ie=Su();function $u(){const e=new st({type:"delivery",discount:0,deliveryPrice:0,address:"",finalPrice:0,step:"basket",promocode:""}),t=new ao(e,v=>v.type),s=new ao(e,v=>v.address);function n(v){return Math.max(0,x.fullPrice+h()-v.discount)}function h(){let v=0,Z=x.fullPrice-e.current.discount;return Ie.userZone&&Z<Ie.userZone.free&&(v=Ie.userZone.price),v}e.addMiddleware(v=>({...v,deliveryPrice:h(),finalPrice:n(v)})),x.subscribe(()=>{e.current={...e.current}}),Ie.subscribe(()=>{e.current={...e.current}});function a(v){if(v!=="delivery"&&v!=="pickup"){console.error(`[orderStore.setType]: Значение ${v} не было установлено. Разрешены значения только типа 'delivery' | 'pickup'`);return}e.current.type!==v&&(e.current={...e.current,type:v,address:""})}function o(v,Z){e.current.promocode!==v&&(e.current={...e.current,promocode:v,discount:Z})}function p(v){e.current.address!==v&&(e.current={...e.current,address:v})}function w(v){e.current.step!==v&&(e.current={...e.current,step:v})}return{setType:a,setPromocode:o,setAddress:p,setStep:w,subscribe:e.subscribe.bind(e),unsubscribe:e.unsubscribe.bind(e),subscribeToType:t.subscribe.bind(t),unsubscribeFromType:t.unsubscribe.bind(t),subscribeToAddress:s.subscribe.bind(s),unsubscribeFromAddress:s.unsubscribe.bind(s),get type(){return t.current},get discount(){return e.current.discount},get deliveryPrice(){return e.current.deliveryPrice},get promocode(){return e.current.promocode},get finalPrice(){return e.current.finalPrice},get address(){return s.current},get step(){return e.current.step}}}const T=$u();function q(e,t,s){s!=null&&s.custom||s!=null&&s.detail?e.dispatchEvent(new CustomEvent(t,s)):e.dispatchEvent(new Event(t,s))}function ss(e,t){return typeof e>"u"?t:e}function Cu(e,t={}){if(window.requestIdleCallback)return window.requestIdleCallback(e,t);{const s=t.timeout||1,n=performance.now();return setTimeout(()=>{e({get didTimeout(){return t.timeout?!1:performance.now()-n-1>s},timeRemaining(){return Math.max(0,1+(performance.now()-n))}})},1)}}function hl(e,t="offsetLeft",s){let n=0;do n+=e[t]||0,e=e.offsetParent;while(e&&e!==s);return n}function Lh(e,t){return hl(e,"offsetLeft",t)}function tr(e,t){return hl(e,"offsetTop",t)}function al(e,t){const s=[];let n=e.parentElement;for(;n;)window.getComputedStyle(n).position==="sticky"&&s.push(n),n=n.parentElement;return s.reduce((h,a)=>h+(t==="top"?a.offsetTop:a.offsetLeft),0)}function ol(e,{behavior:t="instant",offset:s=0,center:n=!1,scrollElement:h}={}){var a;let o,p=h,w=h;if(typeof e=="number")o=e;else{const v=ze(e);v&&(p=v,w=h||Wh(v),o=tr(v))}if(p&&w&&typeof o=="number"){const v=(typeof s=="number"?s:((a=ze(s))==null?void 0:a.offsetHeight)||0)*-1,Z=n?innerHeight/2*-1+p.offsetHeight/2:0;w.scroll({top:o+v+Z,behavior:t})}}var Mu=Object.defineProperty,Lu=Object.defineProperties,Wu=Object.getOwnPropertyDescriptors,vc=Object.getOwnPropertySymbols,xu=Object.prototype.hasOwnProperty,Au=Object.prototype.propertyIsEnumerable,gc=(e,t,s)=>t in e?Mu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Tu=(e,t)=>{for(var s in t||(t={}))xu.call(t,s)&&gc(e,s,t[s]);if(vc)for(var s of vc(t))Au.call(t,s)&&gc(e,s,t[s]);return e},Pu=(e,t)=>Lu(e,Wu(t));function Ou(e,{base:t="",trailingSlash:s=!1}={}){t=t.endsWith("/")?t.slice(0,-1):t,e=e.replace(t,""),e.startsWith("/")&&(e=e.slice(1));const n=e.split("#"),h=n[0].split("?");let a=h[0].startsWith("/")?h[0]:"/"+h[0];s?a=!a.endsWith("/")&&a!=="/"?a+"/":a:a=a.endsWith("/")&&a!=="/"?a.slice(0,-1):a;const o=t+a,p=h?.[1],w=n?.[1];return{leaf:a,pathname:o,parameters:p,hash:w}}function Iu(e="/"){return e.endsWith("/")||(e+="/"),e.startsWith("/")||(e+="/"),e}function bc(e){const t=e?.searchParameters||location.search,s=e.hash?e.hash.startsWith("#")?e.hash:"#"+e.hash:"",n=t?t.startsWith("?")?t:"?"+t:"",h=`${e.pathname}${s}${n}`,a=Pu(Tu({},e.state),{path:h});e.action==="push"?history.pushState(a,"",h):e.action==="replace"&&history.replaceState(a,"",h)}function _u(e){const t=new URLSearchParams(e),s={};for(const[n,h]of t)s[n]=h;return s}function zu(e,t){const s=new URL(location.href),n=t?.toString()||"";s.searchParams.set(e,n),history.replaceState(history.state,"",s.href)}var cl=e=>{throw TypeError(e)},Uo=(e,t,s)=>t.has(e)||cl("Cannot "+s),Nn=(e,t,s)=>(Uo(e,t,"read from private field"),s?s.call(e):t.get(e)),wc=(e,t,s)=>t.has(e)?cl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),Hu=(e,t,s,n)=>(Uo(e,t,"write to private field"),t.set(e,s),s),qu=(e,t,s)=>(Uo(e,t,"access private method"),s),es,oo,ll;let Vu=class{constructor(){wc(this,oo),wc(this,es,null)}parse(t){qu(this,oo,ll).call(this),Nn(this,es).style.left=t;const s=getComputedStyle(Nn(this,es)).getPropertyValue("left");return parseFloat(s)}};es=new WeakMap,oo=new WeakSet,ll=function(){Nn(this,es)||(Hu(this,es,document.createElement("div")),Nn(this,es).style.cssText=`
        position: fixed;
        top: 0;
        left: 0;
        width: 0;
        height: 0;
        visibility: hidden;
      `),document.body.contains(Nn(this,es))||document.body.prepend(Nn(this,es))};const Ha=new Vu,ul=class dl{parse(t,s){var n;const h=parseFloat(t),a=!isNaN(h),o=a?(n=t.match(/[a-z]+$/i))==null?void 0:n[0]:void 0;return a&&!o?h:o?o==="px"?h:o==="hp"?(s?.offsetHeight||0)*(h/100):o==="wp"?(s?.offsetWidth||0)*(h/100):o&&dl.CSS_UNITS.has(o)?Ha.parse(t):t:t.includes("calc")?t.includes("raw!")?t.replace("raw!",""):Ha.parse(t):t==="true"?!0:t==="false"?!1:t}};ul.CSS_UNITS=new Set(["px","rem","vw","vh","vmin","vmax","em","cm","mm","Q","in","pc","pt","ex","ch","lh","rlh","vb","vi","svw","svh","lvw","lvh","dvw","dvh"]);let Ru=ul;const pl=new Ru;var yc=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),ml=e=>{throw TypeError(e)},Go=(e,t,s)=>t.has(e)||ml("Cannot "+s),l=(e,t,s)=>(Go(e,t,"read from private field"),s?s.call(e):t.get(e)),N=(e,t,s)=>t.has(e)?ml("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),G=(e,t,s,n)=>(Go(e,t,"write to private field"),t.set(e,s),s),wt=(e,t,s)=>(Go(e,t,"access private method"),s),Bn=(e,t,s)=>new Promise((n,h)=>{var a=w=>{try{p(s.next(w))}catch(v){h(v)}},o=w=>{try{p(s.throw(w))}catch(v){h(v)}},p=w=>w.done?n(w.value):Promise.resolve(w.value).then(a,o);p((s=s.apply(e,t)).next())}),Du=(e,t,s)=>(t=e[yc("asyncIterator")])?t.call(e):(e=e[yc("iterator")](),t={},s=(n,h)=>(h=e[n])&&(t[n]=a=>new Promise((o,p,w)=>(a=h.call(e,a),w=a.done,Promise.resolve(a.value).then(v=>o({value:v,done:w}),p)))),s("next"),s("return"),t);let fl=class extends HTMLElement{connectedCallback(){const t={"aria-live":"assertive","aria-atomic":"true",style:"position: absolute; left: 0; top: 0; clip: rect(0 0 0 0); clip-path: inset(50%); overflow: hidden; white-space: nowrap; width: 1px; height: 1px"};for(const[s,n]of Object.entries(t))this.setAttribute(s,n)}};$&&!customElements.get("morph-announcer")&&customElements.define("morph-announcer",fl);var di,X,on,Nh,br;let Ec=class{constructor(t,s){N(this,di),N(this,X),N(this,on),N(this,Nh,n=>{n.preventDefault();const h=l(this,X).getAttribute("data-history-action")||"push",a=l(this,X).hasAttribute("data-center-scroll"),o=getComputedStyle(l(this,X)).getPropertyValue("--offset-scroll").trim(),p=o?pl.parse(o):void 0,w=l(this,X).hasAttribute("data-revalidate");l(this,di).navigate(l(this,on),{historyAction:h,centerScroll:a,offsetScroll:p,revalidate:w})}),N(this,br,()=>{l(this,di).prefetch(l(this,on)),l(this,X).removeEventListener("pointerenter",l(this,br))}),G(this,di,s),G(this,X,t),G(this,on,l(this,X).getAttribute("href")||"/"),l(this,X).addEventListener("click",l(this,Nh)),this.checkCurrent(location.pathname),l(this,X).hasAttribute("data-prefetch")&&l(this,X).addEventListener("pointerenter",l(this,br))}get element(){return l(this,X)}checkCurrent(t){const s=l(this,di).normalizePath(t),n=l(this,di).normalizePath(l(this,on));l(this,X).hasAttribute("data-include")&&s.pathname.includes(n.pathname)?l(this,X).classList.add("current"):n.pathname===s.pathname?l(this,X).classList.add("current"):l(this,X).classList.remove("current")}destroy(){l(this,X).removeEventListener("click",l(this,Nh)),l(this,X).removeEventListener("pointerenter",l(this,br)),l(this,X).classList.remove("current")}};di=new WeakMap,X=new WeakMap,on=new WeakMap,Nh=new WeakMap,br=new WeakMap;var cn,wr,se,ln,un,pi;let vl=class{constructor(t,s,n){N(this,cn),N(this,wr),N(this,se,{x:0,y:0}),N(this,ln),N(this,un,null),N(this,pi,null),G(this,cn,t),G(this,wr,s),G(this,ln,n.cloneNode(!0))}get pathname(){return l(this,wr)}get scrollState(){return l(this,se)}get document(){return l(this,pi)}cloneDocument(){G(this,pi,(l(this,un)||l(this,ln)).cloneNode(!0))}get title(){let t="";if(l(this,pi).title)t=l(this,pi).title;else{const s=l(this,pi).querySelector("h1");t=s?.innerText||s?.textContent||l(this,wr)}return t}clearScrollState(){l(this,se).x=0,l(this,se).y=0}clearDocumentState(){G(this,un,null)}saveScrollState(){l(this,ln).documentElement.hasAttribute("data-no-scroll-restoration")?(l(this,se).x=0,l(this,se).y=0):(l(this,se).x=l(this,cn).scrollElement.scrollLeft,l(this,se).y=l(this,cn).scrollElement.scrollTop)}saveDocumentState(){l(this,ln).documentElement.hasAttribute("data-no-page-restoration")?G(this,un,null):G(this,un,document.cloneNode(!0))}restoreScrollPosition(){l(this,cn).scrollElement.scroll({top:l(this,se).y,left:l(this,se).x})}};cn=new WeakMap,wr=new WeakMap,se=new WeakMap,ln=new WeakMap,un=new WeakMap,pi=new WeakMap;var Ni,Bh,ie,co,mi,Mt,jh,dn,fi,gh,bh,pn,lt,lo,uo,po,gl,mo,fo,vo,go,bo;let Fu=class{constructor(t){if(N(this,lt),N(this,Ni,null),N(this,Bh,null),N(this,ie,[]),N(this,co,new DOMParser),N(this,mi),N(this,Mt,null),N(this,jh),N(this,dn,[]),N(this,fi,!1),N(this,gh,null),N(this,bh,new Map),N(this,pn,null),N(this,bo,s=>Bn(this,null,function*(){var n;(n=s.state)!=null&&n.path&&(G(this,fi,!0),yield this.navigate(s.state.path,{historyAction:"none"}),G(this,fi,!1))})),$){G(this,Ni,{base:Iu(t?.base),waitForHeadToLoad:t?.waitForHeadToLoad!==!1,cachePages:t?.cachePages!==!1,trailingSlash:t?.trailingSlash||!1,scrollSelector:t?.scrollSelector||"body"}),G(this,Bh,wt(this,lt,po).call(this,document.body));const s=this.normalizePath(location.pathname+location.hash);G(this,Mt,s.pathname),l(this,bh).set(l(this,Mt),new vl(this,l(this,Mt),document)),document.documentElement.setAttribute("data-current-pathname",l(this,Mt)),document.documentElement.setAttribute("data-current-leaf",s.leaf),this.findLinks(),addEventListener("popstate",l(this,bo)),bc({action:"replace",pathname:l(this,Mt),searchParameters:s.parameters,hash:s.hash}),G(this,pn,new fl),wt(this,lt,vo).call(this,document)}}get currentPathname(){return l(this,Mt)}get previousPathname(){return l(this,jh)}get links(){return l(this,ie)}get scrollElement(){return l(this,gh)}normalizePath(t){return Ou(t,{base:l(this,Ni).base,trailingSlash:l(this,Ni).trailingSlash})}prefetch(t){return Bn(this,null,function*(){const s=this.normalizePath(t);wt(this,lt,uo).call(this,s.pathname)})}navigate(t){return Bn(this,arguments,function*(s,{historyAction:n="push",centerScroll:h,offsetScroll:a,revalidate:o}={}){if(l(this,dn).length)return;const p=this.normalizePath(s);let{pathname:w,hash:v,parameters:Z,leaf:ei}=p;if(l(this,mi)===w||l(this,Mt)===w){l(this,fi)||wt(this,lt,go).call(this,v||0,{centerScroll:h,offsetScroll:a,behavior:"smooth"});return}G(this,mi,w),l(this,ie).forEach(Vt=>{Vt.checkCurrent(w)});try{let Vt=!0;if(this.preprocessor)try{yield new Promise((P,Kt)=>{var ht;(ht=this.preprocessor)==null||ht.call(this,{pathname:w,resolve:P,reject:Kt})})}catch(P){P?console.error(P):console.log("Route change canceled"),Vt=!1}if(!Vt||l(this,mi)!==w){l(this,ie).forEach(P=>{P.checkCurrent(l(this,Mt))});return}const nr=yield wt(this,lt,lo).call(this,l(this,Mt)),Jt=yield wt(this,lt,lo).call(this,w,o);if(l(this,mi)!==w){l(this,ie).forEach(P=>{P.checkCurrent(l(this,Mt))});return}nr.saveScrollState(),nr.saveDocumentState(),l(this,fi)||(Jt.clearScrollState(),Jt.clearDocumentState()),Jt.cloneDocument(),l(this,pn).textContent=Jt.title,document.body.appendChild(l(this,pn));const si={pathname:w};q(document,"morphStart",{detail:si});const rr=Array.from(document.head.children),Th=Array.from(Jt.document.head.children),fe=wt(this,lt,gl).call(this,rr,Th),as=wt(this,lt,mo).call(this,rr,fe),He=wt(this,lt,mo).call(this,Th,fe);He.forEach((P,Kt)=>{if(P.tagName==="SCRIPT"&&P.getAttribute("src")){const ht=document.createElement("script");ht.type="module",ht.src=P.getAttribute("src"),He[Kt]=ht}}),He.forEach(P=>{document.head.appendChild(P)});const os=He.filter(P=>{if(P.hasAttribute("data-no-waiting"))return!1;if(wt(this,lt,fo).call(this,P))return!0});l(this,Ni).waitForHeadToLoad&&os.length&&(yield new Promise(P=>Bn(this,null,function*(){let Kt=0;try{for(var ht=Du(os),ve,at,qe;ve=!(at=yield ht.next()).done;ve=!1){const Ve=at.value;Ve.onload=()=>{Kt++,Kt===os.length&&P()}}}catch(Ve){qe=[Ve]}finally{try{ve&&(at=ht.return)&&(yield at.call(ht))}finally{if(qe)throw qe[0]}}})));const Ph=[];as.forEach(P=>{P.hasAttribute("data-permanent")||(wt(this,lt,fo).call(this,P)?Ph.push(P):P.remove())});const cs=wt(this,lt,po).call(this,Jt.document.body);wt(this,lt,vo).call(this,Jt.document),document.documentElement.setAttribute("data-current-pathname",w),document.documentElement.setAttribute("data-current-leaf",ei),bc({action:n,pathname:w,searchParameters:Z,hash:v}),l(this,pn).remove(),G(this,jh,l(this,Mt)),G(this,Mt,w),l(this,Bh).forEach((P,Kt)=>{const ht=cs[Kt],ve=getComputedStyle(P).getPropertyValue("--morph-duration"),at=[...ht.childNodes];if(ve){const qe=[...P.childNodes];qe.forEach(Pt=>{Pt instanceof HTMLElement&&Pt.classList.add("old")}),at.forEach(Pt=>{Pt instanceof HTMLElement&&Pt.classList.add("new")}),P.prepend(...at),Cu(()=>{at.forEach(Pt=>{Pt instanceof HTMLElement&&Pt.classList.add("in")})});const Ve={morphElement:P,pathname:w};q(document,"morphNewChildrenAdded",{detail:Ve});const ls=new Promise(Pt=>{setTimeout(()=>{qe.forEach(us=>us.remove()),at.forEach(us=>{us instanceof HTMLElement&&us.classList.remove("in","new")}),q(document,"morphOldChildrenRemoved",{detail:Ve}),Pt()},(parseFloat(ve)||0)*1e3+10)});l(this,dn).push(ls)}else P.innerHTML="",P.append(...at)}),v?(Jt.clearScrollState(),wt(this,lt,go).call(this,v,{centerScroll:h,offsetScroll:a})):l(this,fi)&&Jt.restoreScrollPosition(),yield Promise.all(l(this,dn)),Ph.forEach(P=>P.remove()),G(this,dn,[]),this.findLinks(),q(document,"morphComplete",{detail:si}),window.dispatchEvent(new Event("resize"))}catch(Vt){console.error(Vt)}G(this,mi,void 0)})}addLink(t){l(this,ie).push(new Ec(t,this))}addLinks(t){t.forEach(s=>{this.addLink(s)})}removeLink(t){G(this,ie,l(this,ie).filter(s=>s.element===t?(s.destroy(),!1):!0))}findLinks(){const t=[...document.documentElement.querySelectorAll("a")].filter(s=>{var n;return((n=s.getAttribute("href"))==null?void 0:n.startsWith("/"))&&!s.hasAttribute("download")&&!s.hasAttribute("data-morph-skip")&&!s.closest("[data-morph-skip]")});l(this,ie).forEach(s=>s.destroy()),G(this,ie,t.map(s=>new Ec(s,this)))}};Ni=new WeakMap,Bh=new WeakMap,ie=new WeakMap,co=new WeakMap,mi=new WeakMap,Mt=new WeakMap,jh=new WeakMap,dn=new WeakMap,fi=new WeakMap,gh=new WeakMap,bh=new WeakMap,pn=new WeakMap,lt=new WeakSet,lo=function(e,t=!1){return Bn(this,null,function*(){let s=l(this,bh).get(e);return(!s||t)&&(s=yield wt(this,lt,uo).call(this,e)),s})},uo=function(e){return Bn(this,null,function*(){const t=yield(yield fetch(e)).text(),s=l(this,co).parseFromString(t,"text/html"),n=new vl(this,e,s);return l(this,bh).set(e,n),n})},po=function(e){const t=[...e.querySelectorAll("[data-morph]")];return t.length?t:[e]},gl=function(e,t){return e.filter(s=>t.find(n=>n.outerHTML===s.outerHTML))},mo=function(e,t){return e.filter(s=>!t.find(n=>n.outerHTML===s.outerHTML))},fo=function(e){return e.tagName==="SCRIPT"||e.tagName==="STYLE"||e.tagName==="LINK"&&e.getAttribute("rel")==="stylesheet"},vo=function(e){G(this,gh,e.querySelector(l(this,Ni).scrollSelector)||e.documentElement)},go=function(e,t){const s=typeof e=="string"?document.getElementById(e):e;(typeof s=="number"||s)&&ol(s,{scrollElement:l(this,gh),behavior:t?.behavior||"instant",center:t?.centerScroll,offset:t?.offsetScroll})},bo=new WeakMap;const Jn=new Fu({trailingSlash:!0,scrollSelector:"#page-scroll"});function bl(){const e=document.documentElement.clientWidth;document.documentElement.style.setProperty("--inner-height",innerHeight+"px"),document.documentElement.style.setProperty("--client-width",e+"px")}function wl(){Jn.scrollElement.scrollTop>0?document.documentElement.classList.add("scrolled"):document.documentElement.classList.remove("scrolled")}document.addEventListener("morphStart",()=>{Jn.scrollElement.removeEventListener("scroll",wl)});document.addEventListener("morphComplete",()=>{Jn.scrollElement.addEventListener("scroll",wl)});addEventListener("load",()=>{document.documentElement.classList.add("page-loaded"),bl()});addEventListener("resize",bl);T.subscribe(e=>{document.documentElement.setAttribute("data-order-type",e.current.type)});x.subscribe(()=>{document.documentElement.setAttribute("data-basket-has-items",(!!x.items.length).toString())});function Nu(e){const n=Math.ceil(+e).toString().trim();let h="";return n.length===4?h=`${n.slice(0,1)} ${n.slice(1)}`:n.length===5?h=`${n.slice(0,2)} ${n.slice(2)}`:n.length===6?h=`${n.slice(0,3)} ${n.slice(3)}`:n.length===7?h=`${n.slice(0,1)} ${n.slice(1,4)} ${n.slice(4)}`:n.length===8?h=`${n.slice(0,2)} ${n.slice(2,5)} ${n.slice(5)}`:n.length===9?h=`${n.slice(0,3)} ${n.slice(3,6)} ${n.slice(6)}`:h=n,h}function _e(e){return Nu(e)+" ₽"}function wo(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function kc(e,t){return e.slice(0,1)[t]()+e.slice(1)}function Bu(e,t=!1,s){return t?e.split(" ").map(n=>kc(n,s)).join(" "):kc(e,s)}function ju(e,t=!1){return Bu(e,t,"toUpperCase")}var Uu=Object.defineProperty,Gu=Object.defineProperties,Zu=Object.getOwnPropertyDescriptors,Sc=Object.getOwnPropertySymbols,Yu=Object.prototype.hasOwnProperty,Qu=Object.prototype.propertyIsEnumerable,yl=e=>{throw TypeError(e)},$c=(e,t,s)=>t in e?Uu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Xu=(e,t)=>{for(var s in t||(t={}))Yu.call(t,s)&&$c(e,s,t[s]);if(Sc)for(var s of Sc(t))Qu.call(t,s)&&$c(e,s,t[s]);return e},Ju=(e,t)=>Gu(e,Zu(t)),El=(e,t,s)=>t.has(e)||yl("Cannot "+s),zh=(e,t,s)=>(El(e,t,"read from private field"),s?s.call(e):t.get(e)),Ku=(e,t,s)=>t.has(e)?yl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),Cc=(e,t,s,n)=>(El(e,t,"write to private field"),t.set(e,s),s),ks;let Zo=class extends st{constructor(t,s){super(s),Ku(this,ks),Cc(this,ks,Array.isArray(t)?t:[t])}addElement(t){zh(this,ks).push(t)}removeElement(t){Cc(this,ks,zh(this,ks).filter(s=>s!==t))}isTrue(t){return this.current[t]===!0}isFalse(t){return this.current[t]===!1}reset(){super.reset();for(const t in this.initial)this.set(t,this.initial[t])}set(t,s=!0){this.current=Ju(Xu({},this.current),{[t]:s}),s?zh(this,ks).forEach(n=>n.classList.add(wo(t))):zh(this,ks).forEach(n=>n.classList.remove(wo(t)))}};ks=new WeakMap;class td{#t;#e;#s;#n;#i;#r;constructor(t){this.#t=document.createElement("li"),this.#t.className="order-contents__product",this.#t.innerHTML=`
        <div class="order-contents__product__title">${t.name}</div>
        <div class="order-contents__product__amount"></div>
        <div class="order-contents__product__price"></div>
      `,this.#e=this.#t.querySelector(".order-contents__product__amount"),this.#s=this.#t.querySelector(".order-contents__product__price"),this.#n=t.pid,this.#i=t.price,this.#r=t.amount,this.setAmount(this.#r)}get element(){return this.#t}get pid(){return this.#n}get price(){return this.#i}get totalPrice(){return this.#i*this.#r}get amount(){return this.#r}setAmount(t){this.#r=t,this.#e.textContent=this.#r.toString(),this.#s.textContent=_e(this.#r*this.#i)}}class ed extends HTMLElement{#t=[];#e=[];#s=[];#n=null;#i=null;#r=null;#a=null;#h=[];#o=new Zo(this,{success:!1,error:!1,pending:!1});connectedCallback(){document.documentElement.classList.add("order-page"),this.#t=[...this.querySelectorAll("e-form")],this.#t.forEach(t=>{t.addEventListener("formSubmit",this.#p),t.addEventListener("formSuccess",this.#m),t.addEventListener("formError",this.#f)}),this.#e=[...this.querySelectorAll(".order-form__time")],this.#e.forEach(t=>{t.addEventListener("inputGroupValueChange",this.#c)}),this.#s=[...this.querySelectorAll("[data-custom-date]")],this.#n=this.querySelector("#order-calendar"),this.#i=this.querySelector("e-calendar"),this.#i?.addEventListener("calendarPick",this.#d),this.#r=this.querySelector(".order-contents__products"),this.#a=this.querySelector(".order-form__promocode-input"),T.subscribe(this.#l),x.subscribe(this.#u)}disconnectedCallback(){document.documentElement.classList.remove("order-page"),T.unsubscribe(this.#l),x.unsubscribe(this.#u),this.#t.forEach(t=>{t.removeEventListener("formSubmit",this.#p),t.removeEventListener("formSuccess",this.#m),t.removeEventListener("formError",this.#f)}),this.#e.forEach(t=>{t.removeEventListener("inputGroupValueChange",this.#c)}),this.#i?.removeEventListener("calendarPick",this.#d),this.#o.close(),T.setStep("basket")}#l=()=>{this.#a&&(this.#a.value=T.promocode)};#u=()=>{x.items.forEach(t=>{let s=this.#h.find(n=>n.pid===t.pid);s?s.setAmount(t.amount):(s=new td(t),this.#r?.appendChild(s.element),this.#h.push(s))}),this.#h=this.#h.filter(t=>x.items.find(n=>n.pid===t.pid)?!0:(t.element.remove(),!1))};#c=t=>{t.currentTarget.input?.hasAttribute("data-custom-date")&&this.#n?.open()};#d=()=>{const t=this.#i.pickedDate,s=`${t.day}-${t.month}-${t.year} ${t.hours}`;this.#s.forEach(n=>{n.setAttribute("value",s)})};#p=()=>{T.setStep("order"),this.#o.set("success",!1),this.#o.set("error",!1),this.#o.set("pending",!0),Jn.scrollElement.scroll({top:0,behavior:"instant"})};#m=()=>{T.setStep("complete"),this.#o.set("pending",!1),this.#o.set("success",!0),Jn.scrollElement.scroll({top:0,behavior:"instant"})};#f=()=>{this.#o.set("pending",!1),this.#o.set("error",!0),Jn.scrollElement.scroll({top:0,behavior:"instant"})}}customElements.get("e-order")||customElements.define("e-order",ed);(function(){if(typeof document>"u"||"adoptedStyleSheets"in document)return;var e="ShadyCSS"in window&&!ShadyCSS.nativeShadow,t=document.implementation.createHTMLDocument(""),s=new WeakMap,n=typeof DOMException=="object"?Error:DOMException,h=Object.defineProperty,a=Array.prototype.forEach,o=/@import.+?;?$/gm;function p(d){var g=d.replace(o,"");return g!==d&&console.warn("@import rules are not allowed here. See https://github.com/WICG/construct-stylesheets/issues/119#issuecomment-588352418"),g.trim()}function w(d){return"isConnected"in d?d.isConnected:document.contains(d)}function v(d){return d.filter(function(g,M){return d.indexOf(g)===M})}function Z(d,g){return d.filter(function(M){return g.indexOf(M)===-1})}function ei(d){d.parentNode.removeChild(d)}function Vt(d){return d.shadowRoot||s.get(d)}var nr=["addRule","deleteRule","insertRule","removeRule"],Jt=CSSStyleSheet,si=Jt.prototype;si.replace=function(){return Promise.reject(new n("Can't call replace on non-constructed CSSStyleSheets."))},si.replaceSync=function(){throw new n("Failed to execute 'replaceSync' on 'CSSStyleSheet': Can't call replaceSync on non-constructed CSSStyleSheets.")};function rr(d){return typeof d=="object"?at.isPrototypeOf(d)||si.isPrototypeOf(d):!1}function Th(d){return typeof d=="object"?si.isPrototypeOf(d):!1}var fe=new WeakMap,as=new WeakMap,He=new WeakMap,os=new WeakMap;function Ph(d,g){var M=document.createElement("style");return He.get(d).set(g,M),as.get(d).push(g),M}function cs(d,g){return He.get(d).get(g)}function P(d,g){He.get(d).delete(g),as.set(d,as.get(d).filter(function(M){return M!==g}))}function Kt(d,g){requestAnimationFrame(function(){g.textContent=fe.get(d).textContent,os.get(d).forEach(function(M){return g.sheet[M.method].apply(g.sheet,M.args)})})}function ht(d){if(!fe.has(d))throw new TypeError("Illegal invocation")}function ve(){var d=this,g=document.createElement("style");t.body.appendChild(g),fe.set(d,g),as.set(d,[]),He.set(d,new WeakMap),os.set(d,[])}var at=ve.prototype;at.replace=function(g){try{return this.replaceSync(g),Promise.resolve(this)}catch(M){return Promise.reject(M)}},at.replaceSync=function(g){if(ht(this),typeof g=="string"){var M=this;fe.get(M).textContent=p(g),os.set(M,[]),as.get(M).forEach(function(gt){gt.isConnected()&&Kt(M,cs(M,gt))})}},h(at,"cssRules",{configurable:!0,enumerable:!0,get:function(){return ht(this),fe.get(this).sheet.cssRules}}),h(at,"media",{configurable:!0,enumerable:!0,get:function(){return ht(this),fe.get(this).sheet.media}}),nr.forEach(function(d){at[d]=function(){var g=this;ht(g);var M=arguments;os.get(g).push({method:d,args:M}),as.get(g).forEach(function(kt){if(kt.isConnected()){var ot=cs(g,kt).sheet;ot[d].apply(ot,M)}});var gt=fe.get(g).sheet;return gt[d].apply(gt,M)}}),h(ve,Symbol.hasInstance,{configurable:!0,value:rr});var qe={childList:!0,subtree:!0},Ve=new WeakMap;function ls(d){var g=Ve.get(d);return g||(g=new dc(d),Ve.set(d,g)),g}function Pt(d){h(d.prototype,"adoptedStyleSheets",{configurable:!0,enumerable:!0,get:function(){return ls(this).sheets},set:function(g){ls(this).update(g)}})}function us(d,g){for(var M=document.createNodeIterator(d,NodeFilter.SHOW_ELEMENT,function(kt){return Vt(kt)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},null,!1),gt=void 0;gt=M.nextNode();)g(Vt(gt))}var Oh=new WeakMap,en=new WeakMap,Ih=new WeakMap;function lu(d,g){return g instanceof HTMLStyleElement&&en.get(d).some(function(M){return cs(M,d)})}function uc(d){var g=Oh.get(d);return g instanceof Document?g.body:g}function Ga(d){var g=document.createDocumentFragment(),M=en.get(d),gt=Ih.get(d),kt=uc(d);gt.disconnect(),M.forEach(function(ot){g.appendChild(cs(ot,d)||Ph(ot,d))}),kt.insertBefore(g,null),gt.observe(kt,qe),M.forEach(function(ot){Kt(ot,cs(ot,d))})}function dc(d){var g=this;g.sheets=[],Oh.set(g,d),en.set(g,[]),Ih.set(g,new MutationObserver(function(M,gt){if(!document){gt.disconnect();return}M.forEach(function(kt){e||a.call(kt.addedNodes,function(ot){ot instanceof Element&&us(ot,function(sn){ls(sn).connect()})}),a.call(kt.removedNodes,function(ot){ot instanceof Element&&(lu(g,ot)&&Ga(g),e||us(ot,function(sn){ls(sn).disconnect()}))})})}))}if(dc.prototype={isConnected:function(){var d=Oh.get(this);return d instanceof Document?d.readyState!=="loading":w(d.host)},connect:function(){var d=uc(this);Ih.get(this).observe(d,qe),en.get(this).length>0&&Ga(this),us(d,function(g){ls(g).connect()})},disconnect:function(){Ih.get(this).disconnect()},update:function(d){var g=this,M=Oh.get(g)===document?"Document":"ShadowRoot";if(!Array.isArray(d))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+M+": Iterator getter is not callable.");if(!d.every(rr))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+M+": Failed to convert value to 'CSSStyleSheet'");if(d.some(Th))throw new TypeError("Failed to set the 'adoptedStyleSheets' property on "+M+": Can't adopt non-constructed stylesheets");g.sheets=d;var gt=en.get(g),kt=v(d),ot=Z(gt,kt);ot.forEach(function(sn){ei(cs(sn,g)),P(sn,g)}),en.set(g,kt),g.isConnected()&&kt.length>0&&Ga(g)}},window.CSSStyleSheet=ve,Pt(Document),"ShadowRoot"in window){Pt(ShadowRoot);var pc=Element.prototype,uu=pc.attachShadow;pc.attachShadow=function(g){var M=uu.call(this,g);return g.mode==="closed"&&s.set(this,M),M}}var _h=ls(document);_h.isConnected()?_h.connect():document.addEventListener("DOMContentLoaded",_h.connect.bind(_h))})();var Js=(e=>(e[e.FIRST=-1e4]="FIRST",e[e.DEVICE=-9999]="DEVICE",e[e.CSS_VARIABLE=-9998]="CSS_VARIABLE",e[e.MEDIA=-9997]="MEDIA",e[e.SOURCE_MANAGER=-9996]="SOURCE_MANAGER",e[e.SCROLL=-9995]="SCROLL",e[e.LAYOUT_BOX=-9994]="LAYOUT_BOX",e[e.CANVAS=-9993]="CANVAS",e[e.LAST=1e4]="LAST",e))(Js||{}),xh=(e=>(e[e.FIRST=-1e4]="FIRST",e[e.CONNECTOR=-9999]="CONNECTOR",e[e.CONTROLS=-9998]="CONTROLS",e[e.SCROLL=-9997]="SCROLL",e[e.SEGMENT=-9996]="SEGMENT",e[e.ANIMATION=-9995]="ANIMATION",e[e.LAYOUT_BOX=-9994]="LAYOUT_BOX",e[e.LADDER=-9993]="LADDER",e[e.CANVAS=-9992]="CANVAS",e[e.LAST=1e4]="LAST",e))(xh||{}),kl=e=>{throw TypeError(e)},Sl=(e,t,s)=>t.has(e)||kl("Cannot "+s),hr=(e,t,s)=>(Sl(e,t,"read from private field"),s?s.call(e):t.get(e)),sd=(e,t,s)=>t.has(e)?kl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),Qa=(e,t,s,n)=>(Sl(e,t,"write to private field"),t.set(e,s),s),Ce;let Yo=class{constructor(){sd(this,Ce,[])}close(){Qa(this,Ce,[])}subscribe(t,s=0){return hr(this,Ce).find(n=>n.callback===t)?()=>{}:(hr(this,Ce).push({callback:t,order:s}),Qa(this,Ce,hr(this,Ce).sort((n,h)=>n.order-h.order)),()=>{this.unsubscribe(t)})}unsubscribe(t){Qa(this,Ce,hr(this,Ce).filter(s=>s.callback!==t))}notify(...t){for(const s of hr(this,Ce))s.callback(...t)}};Ce=new WeakMap;var $l=e=>{throw TypeError(e)},Cl=(e,t,s)=>t.has(e)||$l("Cannot "+s),ar=(e,t,s)=>(Cl(e,t,"read from private field"),t.get(e)),Xa=(e,t,s)=>t.has(e)?$l("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),Mc=(e,t,s,n)=>(Cl(e,t,"write to private field"),t.set(e,s),s),mn,Uh,yo;let id=class extends Yo{constructor(){super(),Xa(this,mn,!1),Xa(this,Uh,()=>{ar(this,mn)||(Mc(this,mn,!0),ar(this,yo).call(this))}),Xa(this,yo,Xs(()=>{this.notify(),Mc(this,mn,!1)},0)),$&&(window.addEventListener("resize",ar(this,Uh)),ar(this,Uh).call(this))}subscribe(t,s){const n=super.subscribe(t,s);return ar(this,mn)||t(),n}};mn=new WeakMap,Uh=new WeakMap,yo=new WeakMap;const tt=new id;var Ml=e=>{throw TypeError(e)},Ll=(e,t,s)=>t.has(e)||Ml("Cannot "+s),be=(e,t,s)=>(Ll(e,t,"read from private field"),s?s.call(e):t.get(e)),nn=(e,t,s)=>t.has(e)?Ml("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),ii=(e,t,s,n)=>(Ll(e,t,"write to private field"),t.set(e,s),s),Gh,Zh,vi,Yh,fn,Qh;let b=class extends st{constructor(t,s,n,h){super(n,h),nn(this,Gh),nn(this,Zh),nn(this,vi),nn(this,Yh),nn(this,fn,!1),nn(this,Qh,()=>{this.check()}),ii(this,Gh,ze(t)),ii(this,Zh,s),ii(this,vi,n.toString()),ii(this,Yh,h?.rawValueCheck!==!1)}get currentRawValue(){return be(this,vi)}observe(){be(this,fn)||(ii(this,fn,!0),tt.subscribe(be(this,Qh),Js.CSS_VARIABLE))}unobserve(){be(this,fn)&&(ii(this,fn,!1),tt.unsubscribe(be(this,Qh)))}subscribe(t){return this.subscribers.size||this.observe(),super.subscribe(t)}unsubscribe(t){super.unsubscribe(t),this.subscribers.size||this.unobserve()}close(){this.unobserve(),super.close()}check(){const t=getComputedStyle(be(this,Gh)).getPropertyValue(be(this,Zh)).trim();if(!(be(this,Yh)&&be(this,vi)===t))if(ii(this,vi,t),t){const s=pl.parse(be(this,vi));this.current=s}else this.current=this.initial}};Gh=new WeakMap,Zh=new WeakMap,vi=new WeakMap,Yh=new WeakMap,fn=new WeakMap,Qh=new WeakMap;function nd(e){return parseFloat(getComputedStyle(e).transitionDuration||"")}function Eo(e){return nd(e)*1e3}var Wl=e=>{throw TypeError(e)},Qo=(e,t,s)=>t.has(e)||Wl("Cannot "+s),c=(e,t,s)=>(Qo(e,t,"read from private field"),s?s.call(e):t.get(e)),F=(e,t,s)=>t.has(e)?Wl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),j=(e,t,s,n)=>(Qo(e,t,"write to private field"),t.set(e,s),s),ni=(e,t,s)=>(Qo(e,t,"access private method"),s),Ns,ne,Xh,vn,Ae,gi,zs,Bs,bi,wi,yi,gn,Ut,xl,ko,bn,Jh,wn,So,yn,yr,Kh,Er,$o;const Ei=class re extends HTMLElement{constructor(){super(...arguments),F(this,Ut),F(this,Ns),F(this,ne),F(this,Xh),F(this,vn),F(this,Ae),F(this,gi),F(this,zs),F(this,Bs),F(this,bi),F(this,wi),F(this,yi),F(this,gn),F(this,bn),F(this,wn),F(this,yn),F(this,yr),F(this,Kh),F(this,Er),this.urlValue="",j(this,Ns,-1),j(this,ne,new st(!1)),j(this,Ae,new b(this,"--history",!1)),j(this,gi,new b(this,"--restore",!1)),j(this,zs,new b(this,"--dominance",0)),j(this,Bs,new b(this,"--group","")),j(this,bi,new b(this,"--click-outside",!1)),j(this,wi,new b(this,"--escape",!1)),j(this,yi,!1),this.open=t=>{if(c(this,ne).current)return;j(this,gn,t?.trigger),c(this,zs).current&&(re.__openedElements=re.__openedElements.filter(n=>n!==this&&ni(this,Ut,$o).call(this,this,n)?(n.close(),!1):!0)),re.__openedElements.push(this),j(this,Ns,++re.__openedCounter),this.style.setProperty("--open-index",c(this,Ns).toString()),clearTimeout(c(this,Xh)),this.classList.remove("closing"),this.classList.add("triggered"),this.style.display="block",q(this,"popoverTriggered",{custom:!0,detail:{trigger:c(this,gn)}}),c(this,Ae).current&&c(this,yi)&&history.pushState(history.state,"",c(this,Ut,xl)),c(this,ne).current=!0;const s=()=>{addEventListener("click",c(this,bn)),addEventListener("keydown",c(this,wn)),c(this,Er).call(this),this.style.opacity="1",this.classList.add("opened"),q(this,"popoverOpened",{custom:!0,detail:{trigger:c(this,gn)}}),j(this,vn,void 0),this.setAttribute("aria-hidden","false")};t!=null&&t.skipTransition?s():j(this,vn,setTimeout(s,10))},this.close=()=>{c(this,ne).current&&(removeEventListener("click",c(this,bn)),removeEventListener("keydown",c(this,wn)),c(this,ne).current=!1,re.__openedElements=re.__openedElements.filter(t=>t===this?!1:!c(t,vn)&&ni(this,Ut,$o).call(this,this,t)?(t.close(),!1):!0),ni(this,Ut,Jh).call(this),this.classList.remove("opened"),this.classList.add("closing"),this.setAttribute("aria-hidden","true"),this.style.opacity="0",q(this,"popoverClosing",{custom:!0}),setTimeout(()=>{this.classList.remove("triggered"),this.classList.remove("closing"),this.style.display="none",this.style.removeProperty("--open-index"),re.__openedCounter--,j(this,Ns,-1),q(this,"popoverClosed",{custom:!0})},Eo(this)+10))},j(this,bn,t=>{!c(this,bi).current||!c(this,Ut,ko)||ni(this,Ut,So).call(this,()=>{var s;const n=t.composedPath();if(n.find(p=>p instanceof HTMLElement&&p.hasAttribute("data-popover-content")))return;const h=n[0],a=h instanceof Node&&(this.contains(h)||((s=this.shadowRoot)==null?void 0:s.contains(h))),o=h instanceof HTMLElement&&h.hasAttribute("data-outside");(!a||o)&&this.close()})}),j(this,wn,t=>{!c(this,wi).current||!c(this,Ut,ko)||ni(this,Ut,So).call(this,()=>{t.code==="Escape"&&this.close()})}),j(this,yn,()=>{j(this,yi,!1),c(this,ne).current&&c(this,Ae).current&&!location.search.includes(this.id)?this.close():!c(this,ne).current&&c(this,Ae).current&&location.search.includes(this.id)&&this.open({trigger:this.idWithValue}),j(this,yi,!0)}),j(this,yr,()=>{this.style.setProperty("--content-width","initial"),this.style.setProperty("--content-height","initial"),c(this,Kh).call(this)}),j(this,Kh,Xs(()=>{c(this,Er).call(this)},10)),j(this,Er,()=>{this.style.setProperty("--content-width",this.scrollWidth+"px"),this.style.setProperty("--content-height",this.scrollHeight+"px")})}get history(){return c(this,Ae)}get restore(){return c(this,gi)}get dominance(){return c(this,zs)}get group(){return c(this,Bs)}get clickOutside(){return c(this,bi)}get escape(){return c(this,wi)}get opened(){return c(this,ne)}get lastTrigger(){return c(this,gn)}get idWithValue(){return`${this.id}${this.urlValue?"="+this.urlValue:""}`}updateUrlValue(t){this.urlValue=t?.toString()||"",c(this,ne).current&&zu(this.id,t)}connectedCallback(){c(this,Ae).observe(),c(this,gi).observe(),c(this,zs).observe(),c(this,Bs).observe(),c(this,bi).observe(),c(this,wi).observe(),this.style.opacity="0",this.style.display="none",this.setAttribute("role","dialog"),this.setAttribute("aria-hidden","true"),this.classList.remove("closing"),this.classList.remove("closed"),this.classList.remove("triggered"),this.classList.remove("opened"),addEventListener("popstate",c(this,yn)),setTimeout(()=>{c(this,gi).current?(this.urlValue=_u(location.search)[this.id],c(this,yn).call(this)):(ni(this,Ut,Jh).call(this),j(this,yi,!0))},0),tt.subscribe(c(this,yr))}disconnectedCallback(){tt.unsubscribe(c(this,yr)),c(this,Ae).close(),c(this,gi).close(),c(this,zs).close(),c(this,Bs).close(),c(this,bi).close(),c(this,wi).close(),this.style.opacity="",this.style.display="",this.removeAttribute("role"),this.removeAttribute("aria-hidden"),re.__openedElements=re.__openedElements.filter(t=>t!==this),re.__openedCounter--,clearTimeout(c(this,Xh)),clearTimeout(c(this,vn)),removeEventListener("popstate",c(this,yn)),removeEventListener("click",c(this,bn)),removeEventListener("keydown",c(this,wn)),this.style.removeProperty("--content-width"),this.style.removeProperty("--content-height"),ni(this,Ut,Jh).call(this)}};Ns=new WeakMap,ne=new WeakMap,Xh=new WeakMap,vn=new WeakMap,Ae=new WeakMap,gi=new WeakMap,zs=new WeakMap,Bs=new WeakMap,bi=new WeakMap,wi=new WeakMap,yi=new WeakMap,gn=new WeakMap,Ut=new WeakSet,xl=function(){return`${location.pathname}${location.search?location.search+"&":"?"}${this.idWithValue}`},ko=function(){return c(this,Ns)===Ei.__openedCounter},bn=new WeakMap,Jh=function(){if(c(this,Ae).current){const e=new URL(location.href);e.searchParams.delete(this.id),history.replaceState(history.state,"",e.href)}},wn=new WeakMap,So=function(e){(Ei.__openedElements[c(this,Ns)-1]||Ei.__openedElements.length===1||Ei.__openedElements.filter(t=>t!==this).every(t=>c(this,zs).current>t.dominance.current))&&e()},yn=new WeakMap,yr=new WeakMap,Kh=new WeakMap,Er=new WeakMap,$o=function(e,t){if(c(e,Bs).current===c(t,Bs).current&&e.dominance.current!==-1&&t.dominance.current!==-1&&e.dominance.current>=t.dominance.current)return!0},Ei.__openedElements=[],Ei.__openedCounter=0;let Ah=Ei;$&&!customElements.get("e-popover")&&customElements.define("e-popover",Ah);var Q,ki,ta,ea,sa,ia;let Xo=class extends HTMLElement{constructor(){super(),F(this,Q),F(this,ki,new b(this,"--type","open")),F(this,ta,()=>{this.classList.add("triggered")}),F(this,ea,()=>{this.classList.add("opened"),this.setAttribute("aria-expanded","true")}),F(this,sa,()=>{this.classList.remove("opened")}),F(this,ia,()=>{this.classList.remove("triggered"),this.setAttribute("aria-expanded","false")}),$&&(this.addEventListener("click",()=>{if(c(this,Q)){const t=c(this,ki).current;t==="open"||t==="toggle"&&!c(this,Q).opened.current?c(this,Q).open({trigger:this}):(t==="close"||t==="toggle"&&c(this,Q).opened.current)&&c(this,Q).close()}}),this.addEventListener("keydown",t=>{t.code==="Space"&&t.currentTarget.click()}))}get type(){return c(this,ki)}get popoverElement(){return c(this,Q)}connectedCallback(){var t;c(this,ki).subscribe(n=>{c(this,Q)instanceof Ah&&(n.current!=="close"?(this.setAttribute("aria-haspopup","true"),this.setAttribute("aria-expanded",c(this,Q).opened.current?"true":"false"),this.setAttribute("aria-controls",c(this,Q).id||"")):(this.removeAttribute("aria-haspopup"),this.removeAttribute("aria-expanded"),this.removeAttribute("aria-controls")))}),this.hasAttribute("tabindex")||(this.tabIndex=0);const s=this.getAttribute("target");if(s){let n=null;if(s==="parent"){const h=this.closest("[popover-target]");if(h)n=h;else{const a=this.getRootNode();a instanceof ShadowRoot?n=a.host.closest("[popover-target]"):a instanceof HTMLElement&&(n=a.closest("[popover-target]"))}}else s==="sibling"?n=(t=this.parentElement)==null?void 0:t.querySelector("[popover-target]"):n=document.querySelector(`#${s}`)||this.getRootNode().querySelector(`#${s}`);n instanceof HTMLElement?(j(this,Q,n),c(this,Q).addEventListener("popoverTriggered",c(this,ta)),c(this,Q).addEventListener("popoverOpened",c(this,ea)),c(this,Q).addEventListener("popoverClosing",c(this,sa)),c(this,Q).addEventListener("popoverClosed",c(this,ia))):console.warn(this,`target ${s} not found`)}this.isConnected&&c(this,ki).observe()}disconnectedCallback(){c(this,ki).unobserve(),this.removeAttribute("aria-haspopup"),this.removeAttribute("aria-expanded"),this.removeAttribute("aria-controls"),c(this,Q)&&(c(this,Q).removeEventListener("popoverTriggered",c(this,ta)),c(this,Q).removeEventListener("popoverOpened",c(this,ea)),c(this,Q).removeEventListener("popoverClosing",c(this,sa)),c(this,Q).removeEventListener("popoverClosed",c(this,ia)))}};Q=new WeakMap,ki=new WeakMap,ta=new WeakMap,ea=new WeakMap,sa=new WeakMap,ia=new WeakMap;$&&!customElements.get("e-popover-button")&&customElements.define("e-popover-button",Xo);var Al=e=>{throw TypeError(e)},Tl=(e,t,s)=>t.has(e)||Al("Cannot "+s),we=(e,t,s)=>(Tl(e,t,"read from private field"),t.get(e)),Ja=(e,t,s)=>t.has(e)?Al("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),Lc=(e,t,s,n)=>(Tl(e,t,"write to private field"),t.set(e,s),s),Me,kr,Co;let rd=class{constructor(){Ja(this,Me,[]),Ja(this,kr,null),Ja(this,Co,t=>{we(this,Me).map(s=>({subscriber:s,entry:t.find(n=>n.target===s.element)})).forEach(s=>{s.entry&&(s.subscriber.entry=s.entry,s.subscriber.callback(s.entry))})}),$&&window.ResizeObserver&&Lc(this,kr,new ResizeObserver(we(this,Co)))}subscribe(t,s){const n=ze(t);if(!n)return()=>{};const h=we(this,Me).find(a=>a.element===n);if(!h)we(this,kr).observe(n);else{const a=we(this,Me).find(o=>o.element===n&&o.entry);a!=null&&a.element.isConnected&&s(a.entry)}return we(this,Me).push({element:n,callback:s,entry:h?.entry||null}),()=>{this.unsubscribe(s)}}unsubscribe(t){const s=we(this,Me).find(n=>n.callback===t);s&&(Lc(this,Me,we(this,Me).filter(n=>n.callback!==s.callback)),we(this,Me).find(n=>n.element===s.element)||we(this,kr).unobserve(s.element))}};Me=new WeakMap,kr=new WeakMap,Co=new WeakMap;const me=new rd;function ja(e,t){const s=h=>{e?.(h)},n=()=>{removeEventListener("pointermove",s),removeEventListener("pointerup",n),removeEventListener("touchend",n),t?.()};addEventListener("pointermove",s),addEventListener("pointerup",n),addEventListener("touchend",n)}var Pl=e=>{throw TypeError(e)},Ol=(e,t,s)=>t.has(e)||Pl("Cannot "+s),V=(e,t,s)=>(Ol(e,t,"read from private field"),s?s.call(e):t.get(e)),ds=(e,t,s)=>t.has(e)?Pl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),or=(e,t,s,n)=>(Ol(e,t,"write to private field"),t.set(e,s),s),Ot,Ss,Sr,En,$r,na,kn,ra;let hd=class extends HTMLElement{constructor(){super(...arguments),ds(this,Ot,null),ds(this,Ss,null),ds(this,Sr,0),ds(this,En,0),ds(this,$r),ds(this,na,()=>{this.classList.add("active"),clearTimeout(V(this,$r));const t=V(this,Ot).scrollTop/V(this,En)*V(this,Sr);V(this,Ss).style.transform=`translate3d(0px, ${t}px, 0px)`,or(this,$r,setTimeout(()=>{this.classList.remove("active")},1e3))}),ds(this,kn,()=>{const t=this.offsetHeight;or(this,En,V(this,Ot).scrollHeight-V(this,Ot).offsetHeight);let s=t/(V(this,En)/t);s=Math.max(s,30),V(this,Ss).style.width="100%",V(this,Ss).style.height=s+"px",or(this,Sr,t-s),V(this,Ot).scrollHeight>V(this,Ot).offsetHeight||(this.style.display="none")}),ds(this,ra,t=>{document.documentElement.classList.add("grabbing"),ja(h=>{const a=V(this,En)/V(this,Sr),o=(h.y-n)*a;V(this,Ot).scroll({top:s+o,behavior:"instant"})},()=>{document.documentElement.classList.remove("grabbing")});const s=V(this,Ot).scrollTop,n=t.y})}connectedCallback(){const t=Wh(this),s=this.querySelector("[data-thumb]");t&&s&&(or(this,Ot,t),or(this,Ss,s),me.subscribe(V(this,Ot),V(this,kn)),tt.subscribe(V(this,kn)),V(this,Ot).addEventListener("scroll",V(this,na)),V(this,Ss).addEventListener("pointerdown",V(this,ra)))}disconnectedCallback(){me.unsubscribe(V(this,kn)),tt.unsubscribe(V(this,kn)),V(this,Ot).removeEventListener("scroll",V(this,na)),V(this,Ss).removeEventListener("pointerdown",V(this,ra)),clearTimeout(V(this,$r))}};Ot=new WeakMap,Ss=new WeakMap,Sr=new WeakMap,En=new WeakMap,$r=new WeakMap,na=new WeakMap,kn=new WeakMap,ra=new WeakMap;$&&!customElements.get("e-custom-scrollbar")&&customElements.define("e-custom-scrollbar",hd);const ha=e=>e,Il=e=>e*e,ad=e=>e*(2-e),od=e=>e<.5?2*e*e:-1+(4-2*e)*e,cd=e=>e*e*e,ld=e=>--e*e*e+1,ud=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,dd=e=>e*e*e*e,pd=e=>1- --e*e*e*e,md=e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,fd=e=>e*e*e*e*e,vd=e=>1+--e*e*e*e*e,gd=e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e,bd=e=>e===0?0:2**(10*(e-1)),wd=e=>e===1?1:1-2**(-10*e),_l=e=>e===0||e===1?e:e<.5?.5*2**(20*(e-.5)):.5*(2-Math.abs(2**(-20*(e-.5)))),yd=Object.freeze(Object.defineProperty({__proto__:null,easeInCubic:cd,easeInExpo:bd,easeInOutCubic:ud,easeInOutExpo:_l,easeInOutQuad:od,easeInOutQuart:md,easeInOutQuint:gd,easeInQuad:Il,easeInQuart:dd,easeInQuint:fd,easeOutCubic:ld,easeOutExpo:wd,easeOutQuad:ad,easeOutQuart:pd,easeOutQuint:vd,linear:ha},Symbol.toStringTag,{value:"Module"}));function zl(e){let t="";for(const s in e){const n=e[s];typeof n=="object"?(t+=`${s} {`,t+=zl(n),t+="}"):t+=`${wo(s)}: ${n};`}return t}function Ks(e){if($){const t=new CSSStyleSheet;return t.replaceSync(zl(e)),t}return null}function Ed(e,t,s){return(1-s)*e+s*t}function kd(e,t,s,n){return Ed(e,t,1-Math.exp(-s*n))}function Sd(e,t,s=0,n=1){return t<e?s:n}function ti(e,t=0,s=0){return Math.max(t,Math.min(e,s))}const Wc=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10];function er(e,t=5){return Math.round(e*Wc[t])/Wc[t]}function Hl(e,t){return e=e%t,e=e<0?t+e:e,e}var ql=e=>{throw TypeError(e)},Jo=(e,t,s)=>t.has(e)||ql("Cannot "+s),L=(e,t,s)=>(Jo(e,t,"read from private field"),s?s.call(e):t.get(e)),ut=(e,t,s)=>t.has(e)?ql("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),K=(e,t,s,n)=>(Jo(e,t,"write to private field"),t.set(e,s),s),Ka=(e,t,s)=>(Jo(e,t,"access private method"),s),Cr,Sn,aa,$n,Cn,Si,Mr,Lr,Mo;let $d=class{constructor(t,s){if(ut(this,Cr),ut(this,Sn),ut(this,aa),ut(this,$n,0),ut(this,Cn,0),ut(this,Si,0),ut(this,Mr,!1),ut(this,Lr,null),ut(this,Mo,n=>{const h=n[0];K(this,Mr,h.isIntersecting)}),K(this,Cr,t),K(this,Sn,s?.maxFPS),K(this,aa,s?.order||0),s!=null&&s.culling&&$){const n=ze(s.culling);n&&(K(this,Lr,new IntersectionObserver(L(this,Mo))),L(this,Lr).observe(n))}else K(this,Mr,!0)}get callback(){return L(this,Cr)}get order(){return L(this,aa)}sync(t){K(this,$n,t-L(this,Si))}tick(t){if(K(this,Si,Math.max(0,t-L(this,$n))),L(this,Cn)||K(this,Cn,t),L(this,Sn))if(L(this,Si)>=1e3/L(this,Sn))K(this,$n,t-L(this,Si)%L(this,Sn));else return;else K(this,$n,t);L(this,Mr)&&L(this,Cr).call(this,{timeBetweenFrames:L(this,Si),timestamp:t,subscribeTimestamp:L(this,Cn),timeElapsedSinceSubscription:t-L(this,Cn)})}destroy(){var t;(t=L(this,Lr))==null||t.disconnect()}};Cr=new WeakMap,Sn=new WeakMap,aa=new WeakMap,$n=new WeakMap,Cn=new WeakMap,Si=new WeakMap,Mr=new WeakMap,Lr=new WeakMap,Mo=new WeakMap;var oa,Mn,Hs,Wr,It,xr,Vl,Lo,qa,ca;let Cd=class{constructor(){ut(this,xr),ut(this,oa,0),ut(this,Mn,0),ut(this,Hs),ut(this,Wr,!1),ut(this,It,[]),ut(this,qa,t=>{if(L(this,Wr)){K(this,Wr,!1),K(this,oa,t-L(this,Mn));for(const s of L(this,It))s.sync(L(this,Mn))}K(this,Hs,requestAnimationFrame(L(this,qa))),K(this,Mn,t-L(this,oa));for(const s of L(this,It))s.tick(L(this,Mn))}),ut(this,ca,()=>{document.hidden&&K(this,Wr,!0)}),$&&document.addEventListener("visibilitychange",L(this,ca))}subscribe(t,s){if(!L(this,It).find(n=>n.callback===t)){const n=new $d(t,s);n.sync(performance.now()),L(this,It).push(n),K(this,It,L(this,It).sort((h,a)=>h.order-a.order))}return Ka(this,xr,Vl).call(this),()=>this.unsubscribe(t)}unsubscribe(t){const s=L(this,It).filter(n=>n.callback===t);s.length&&(s.forEach(n=>n.destroy()),K(this,It,L(this,It).filter(n=>n.callback!==t)),L(this,It).length||Ka(this,xr,Lo).call(this))}destroy(){$&&(Ka(this,xr,Lo).call(this),document.removeEventListener("visibilitychange",L(this,ca)))}};oa=new WeakMap,Mn=new WeakMap,Hs=new WeakMap,Wr=new WeakMap,It=new WeakMap,xr=new WeakSet,Vl=function(){L(this,It).length&&!L(this,Hs)&&K(this,Hs,requestAnimationFrame(L(this,qa)))},Lo=function(){L(this,Hs)&&(cancelAnimationFrame(L(this,Hs)),K(this,Hs,void 0))},qa=new WeakMap,ca=new WeakMap;const pe=new Cd;var Rl=e=>{throw TypeError(e)},Ko=(e,t,s)=>t.has(e)||Rl("Cannot "+s),W=(e,t,s)=>(Ko(e,t,"read from private field"),s?s.call(e):t.get(e)),Rt=(e,t,s)=>t.has(e)?Rl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),zt=(e,t,s,n)=>(Ko(e,t,"write to private field"),t.set(e,s),s),Md=(e,t,s)=>(Ko(e,t,"access private method"),s),Ar,Tr,Pr,$i,Va,Wt,Qe,qs,jn,Ln,Wo,Dl,la;let Fl=class extends st{constructor(t,s){super(t||0,s),Rt(this,Wo),Rt(this,Ar),Rt(this,Tr,xh.ANIMATION),Rt(this,Pr),Rt(this,$i,new st(!1)),Rt(this,Va,0),Rt(this,Wt,0),Rt(this,Qe,-1/0),Rt(this,qs,1/0),Rt(this,jn,0),Rt(this,Ln,null),Rt(this,la,n=>{this.handleAnimationFrame(n)}),zt(this,Wt,this.current)}get direction(){return W(this,Va)}get target(){return W(this,Wt)}get min(){return W(this,Qe)}set min(t){zt(this,Qe,t),this.set(W(this,Wt),{equalize:!0})}get max(){return W(this,qs)}set max(t){zt(this,qs,t),this.set(W(this,Wt),{equalize:!0})}get from(){return W(this,jn)}get isRunning(){return W(this,$i)}get delta(){return Math.abs(W(this,Wt)-W(this,jn))}get deltaProgress(){return this.delta?er(Math.abs(this.current-W(this,jn))/this.delta,6):0}get distance(){return Math.abs(W(this,qs)-W(this,Qe))}get distanceProgress(){return this.distance?er(Math.abs(this.current-W(this,Qe))/this.distance,6):0}set(t,s){(W(this,Wt)!==t||s!=null&&s.restart)&&(zt(this,Ln,t),this.updateOptions(s),zt(this,Ln,null),W(this,Wt)!==this.current&&this.start())}shift(t,s){this.set(W(this,Wt)+t,s)}reset(){super.reset(),this.set(this.initial,{equalize:!0})}close(){super.close(),this.reset(),this.unlistenAnimationFrame()}listenAnimationFrame(){W(this,$i).current||(W(this,$i).current=!0,pe.subscribe(W(this,la),{maxFPS:W(this,Ar),order:W(this,Tr),culling:W(this,Pr)}))}unlistenAnimationFrame(){W(this,$i).current&&(W(this,$i).current=!1,pe.unsubscribe(W(this,la)))}updateOptions(t){zt(this,Ar,ss(t?.maxFPS,W(this,Ar))),zt(this,Tr,ss(t?.order,W(this,Tr))),zt(this,Pr,ss(t?.culling,W(this,Pr))),zt(this,Qe,ss(t?.min,W(this,Qe))),zt(this,qs,ss(t?.max,W(this,qs))),Md(this,Wo,Dl).call(this,typeof W(this,Ln)=="number"?W(this,Ln):W(this,Wt)),t!=null&&t.equalize&&(this.unlistenAnimationFrame(),this.current=W(this,Wt)),t!=null&&t.restart&&(this.unlistenAnimationFrame(),this.current=this.initial)}start(){this.listenAnimationFrame()}};Ar=new WeakMap,Tr=new WeakMap,Pr=new WeakMap,$i=new WeakMap,Va=new WeakMap,Wt=new WeakMap,Qe=new WeakMap,qs=new WeakMap,jn=new WeakMap,Ln=new WeakMap,Wo=new WeakSet,Dl=function(e){zt(this,Va,Math.sign(e-W(this,Wt))),zt(this,Wt,ti(e,W(this,Qe),W(this,qs))),zt(this,jn,this.current)},la=new WeakMap;var Ld=Object.defineProperty,Wd=Object.defineProperties,xd=Object.getOwnPropertyDescriptors,xc=Object.getOwnPropertySymbols,Ad=Object.prototype.hasOwnProperty,Td=Object.prototype.propertyIsEnumerable,Nl=e=>{throw TypeError(e)},Ac=(e,t,s)=>t in e?Ld(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Pd=(e,t)=>{for(var s in t||(t={}))Ad.call(t,s)&&Ac(e,s,t[s]);if(xc)for(var s of xc(t))Td.call(t,s)&&Ac(e,s,t[s]);return e},Od=(e,t)=>Wd(e,xd(t)),Bl=(e,t,s)=>t.has(e)||Nl("Cannot "+s),cr=(e,t,s)=>(Bl(e,t,"read from private field"),s?s.call(e):t.get(e)),Tc=(e,t,s)=>t.has(e)?Nl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),Hh=(e,t,s,n)=>(Bl(e,t,"write to private field"),t.set(e,s),s),$s,Or;let tc=class extends Fl{constructor(t,s){super(t,s),Tc(this,$s),Tc(this,Or),this.damping=20,this.stiffness=0,this.mass=0,Hh(this,$s,0),Hh(this,Or,0),this.updateOptions(Od(Pd({},s),{equalize:!0}))}get velocity(){return cr(this,$s)}get speed(){return cr(this,Or)}updateOptions(t){this.damping=ss(t?.damping,this.damping),this.mass=ss(t?.mass,this.mass),this.stiffness=ss(t?.stiffness,this.stiffness),super.updateOptions(t)}handleAnimationFrame(t){er(this.current,6)===er(this.target,6)&&(this.unlistenAnimationFrame(),this.current=this.target);const s=this.current,n=Math.abs(s-this.target);Hh(this,Or,n/t.timeBetweenFrames);const h=t.timeBetweenFrames/1e3;if(this.mass||this.stiffness){const a=(this.target-this.current)*this.stiffness-cr(this,$s)*this.damping;Hh(this,$s,cr(this,$s)+a/this.mass*h),this.current+=cr(this,$s)*h}else this.current=kd(this.current,this.target,this.damping,h)}};$s=new WeakMap,Or=new WeakMap;var Id=Object.defineProperty,_d=Object.defineProperties,zd=Object.getOwnPropertyDescriptors,Pc=Object.getOwnPropertySymbols,Hd=Object.prototype.hasOwnProperty,qd=Object.prototype.propertyIsEnumerable,jl=e=>{throw TypeError(e)},Oc=(e,t,s)=>t in e?Id(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Vd=(e,t)=>{for(var s in t||(t={}))Hd.call(t,s)&&Oc(e,s,t[s]);if(Pc)for(var s of Pc(t))qd.call(t,s)&&Oc(e,s,t[s]);return e},Rd=(e,t)=>_d(e,zd(t)),Ul=(e,t,s)=>t.has(e)||jl("Cannot "+s),to=(e,t,s)=>(Ul(e,t,"read from private field"),s?s.call(e):t.get(e)),Ic=(e,t,s)=>t.has(e)?jl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),_c=(e,t,s,n)=>(Ul(e,t,"write to private field"),t.set(e,s),s),ua,Ir;let Gl=class extends Fl{constructor(t,s){super(t||0,s),Ic(this,ua,ha),Ic(this,Ir,1e3),this.updateOptions(Rd(Vd({},s),{equalize:!0}))}updateOptions(t){super.updateOptions(t),_c(this,ua,typeof t?.easing=="function"?t.easing:typeof t?.easing=="string"&&yd[t.easing]||ha),_c(this,Ir,t?.duration===!1?0:ss(t?.duration,to(this,Ir)))}handleAnimationFrame(t){const s=t.timeElapsedSinceSubscription/1e3/(to(this,Ir)/1e3)||0,n=to(this,ua).call(this,ti(s,0,1));this.current=er(this.from+(this.target-this.from)*n,6),s>1&&this.unlistenAnimationFrame()}start(){this.unlistenAnimationFrame(),this.listenAnimationFrame()}};ua=new WeakMap,Ir=new WeakMap;var Zl=e=>{throw TypeError(e)},ec=(e,t,s)=>t.has(e)||Zl("Cannot "+s),m=(e,t,s)=>(ec(e,t,"read from private field"),s?s.call(e):t.get(e)),B=(e,t,s)=>t.has(e)?Zl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),I=(e,t,s,n)=>(ec(e,t,"write to private field"),t.set(e,s),s),_r=(e,t,s)=>(ec(e,t,"access private method"),s),xo;let Ua=class{constructor(){B(this,xo,new Yo)}get changeEvent(){return m(this,xo)}};xo=new WeakMap;var Ci,Gt,he,da;class Dd extends Ua{constructor(t){super(),B(this,Ci,null),B(this,Gt,null),B(this,he,"offsetHeight"),B(this,da,s=>{const n=s.shiftKey?-1:1;let h;s.code==="Space"?h=n*m(this,Gt)[m(this,he)]*.4:s.code==="ArrowLeft"?h=-1*m(this,Gt)[m(this,he)]*.2:s.code==="ArrowRight"?h=1*m(this,Gt)[m(this,he)]*.2:s.code==="ArrowUp"?h=-1*m(this,Gt)[m(this,he)]*.2:s.code==="ArrowDown"?h=1*m(this,Gt)[m(this,he)]*.2:s.code==="PageUp"?h=-1*m(this,Gt)[m(this,he)]:s.code==="PageDown"?h=1*m(this,Gt)[m(this,he)]:s.code==="Home"?h=0:s.code==="End"&&(h=m(this,he)==="offsetWidth"?m(this,Gt).scrollWidth:m(this,Gt).scrollHeight),h&&(s.stopPropagation(),this.changeEvent.notify("keyboard",h))}),$&&(I(this,Ci,t!=null&&t.element&&ze(t.element)||window),I(this,Gt,m(this,Ci)instanceof HTMLElement?m(this,Ci):document.documentElement),this.dimension=t?.dimension)}set dimension(t){I(this,he,t==="width"?"offsetWidth":"offsetHeight")}connect(){$&&m(this,Ci).addEventListener("keydown",m(this,da))}disconnect(){$&&m(this,Ci).removeEventListener("keydown",m(this,da))}}Ci=new WeakMap,Gt=new WeakMap,he=new WeakMap,da=new WeakMap;var Bi,Un,Ra,pa,Yt,wh,Le,ji,ma,Ao,yh,Da,Eh;class Fd extends Ua{constructor(t){super(),B(this,ji),B(this,Bi),B(this,Un),B(this,Ra),B(this,pa),B(this,Yt),B(this,wh),B(this,Le),B(this,yh),B(this,Da),B(this,Eh),this.direction=1,I(this,Yt,new Gl(0,{easing:Il})),I(this,Le,!1),I(this,yh,s=>{m(this,Yt).current!==1&&this.changeEvent.notify("autoplay",s.timeBetweenFrames*m(this,Bi)*this.direction*(1-m(this,Yt).current))}),I(this,Da,()=>{m(this,Yt).current!==1&&this.changeEvent.notify("autoplay",Math.sign(m(this,Bi))*this.direction*(1-m(this,Yt).current))}),I(this,Eh,()=>{m(this,Un)&&(document.hidden?m(this,Yt).set(1,{equalize:!0}):m(this,Yt).set(0,{equalize:!0}))}),I(this,Bi,t?.speed||1),I(this,Un,t?.interval||!1),I(this,Ra,t)}set interval(t){I(this,Un,t),m(this,Le)&&_r(this,ji,ma).call(this)}set speed(t){I(this,Bi,t),m(this,Le)&&_r(this,ji,ma).call(this)}connect(){m(this,Le)||(I(this,Le,!0),_r(this,ji,ma).call(this))}disconnect(){m(this,Le)&&(I(this,Le,!1),_r(this,ji,Ao).call(this))}pauseAndContinue(t,s){m(this,Le)&&t&&(clearTimeout(m(this,wh)),m(this,Yt).set(1,{duration:Math.min(t,1e3),equalize:s}),I(this,wh,setTimeout(()=>{m(this,Yt).set(0,{duration:Math.min(t,5e3),equalize:s})},t)))}}Bi=new WeakMap,Un=new WeakMap,Ra=new WeakMap,pa=new WeakMap,Yt=new WeakMap,wh=new WeakMap,Le=new WeakMap,ji=new WeakSet,ma=function(){_r(this,ji,Ao).call(this),m(this,Un)?I(this,pa,setInterval(m(this,Da),Math.abs(m(this,Bi)))):pe.subscribe(m(this,yh),m(this,Ra)),document.addEventListener("visibilitychange",m(this,Eh))},Ao=function(){clearInterval(m(this,pa)),pe.unsubscribe(m(this,yh)),clearTimeout(m(this,wh)),m(this,Yt).close(),document.removeEventListener("visibilitychange",m(this,Eh))},yh=new WeakMap,Da=new WeakMap,Eh=new WeakMap;var zr,Wn,Hr,fa;class Nd extends Ua{constructor(t){super(),B(this,zr,null),B(this,Wn),B(this,Hr),B(this,fa,s=>{let n=0;if(!(this.axis==="x"&&Math.abs(s.deltaY)>Math.abs(s.deltaX)*1||this.axis==="y"&&Math.abs(s.deltaX)>Math.abs(s.deltaY)*1))if(s.preventDefault(),n=(this.axis==="max"?Math.abs(s.deltaX)>Math.abs(s.deltaY)?s.deltaX:s.deltaY:this.axis==="x"?s.deltaX:s.deltaY)*this.speed,s.stopPropagation(),this.debounce){const h=Date.now();if(h-m(this,Hr)>40&&(n=100*Math.sign(n)),I(this,Hr,h),Math.abs(n)<100||m(this,Wn))return;this.changeEvent.notify("wheel",n),I(this,Wn,setTimeout(()=>{I(this,Wn,void 0)},80))}else this.changeEvent.notify("wheel",n)}),this.axis=t?.axis||"y",this.speed=t?.speed||1,this.debounce=t?.debounce||!1,I(this,Hr,Date.now()),$&&I(this,zr,t!=null&&t.element&&ze(t.element)||window)}connect(){$&&m(this,zr).addEventListener("wheel",m(this,fa),{passive:!1})}disconnect(){$&&(m(this,zr).removeEventListener("wheel",m(this,fa)),clearTimeout(m(this,Wn)))}}zr=new WeakMap,Wn=new WeakMap,Hr=new WeakMap,fa=new WeakMap;var Gn,Cs,mt,qr,Mi;const Yl=class Vr extends Ua{constructor(t){super(),B(this,Cs),B(this,mt),B(this,qr),B(this,Mi),this.inertion=1,I(this,Cs,null),I(this,mt,0),I(this,qr,s=>{if(s.composedPath().find(p=>p instanceof HTMLElement&&p.hasAttribute("drag-dead-zone")))return;this.swipe||pe.unsubscribe(m(this,Mi));let n=s,h=!1;I(this,mt,0),document.documentElement.classList.add("grabbing");let a=0,o=0;ja(p=>{m(Vr,Gn)&&m(Vr,Gn)!==m(this,Cs)||(a=n.x-p.x,o=n.y-p.y,this.axis==="x"?I(this,mt,a):I(this,mt,o),n=p,h=this.axis==="x"&&Math.abs(a)>Math.abs(o)||this.axis==="y"&&Math.abs(o)>Math.abs(a),h&&(document.documentElement.classList.add("dragging"),I(Vr,Gn,m(this,Cs)),this.changeEvent.notify("drag",m(this,mt))))},()=>{I(Vr,Gn,null),h&&!this.swipe&&this.inertion?(I(this,mt,m(this,mt)*this.inertion),pe.subscribe(m(this,Mi),{order:xh.CONTROLS-1})):this.swipe&&this.changeEvent.notify("drag-end",m(this,mt)),document.documentElement.classList.remove("grabbing"),document.documentElement.classList.remove("dragging")})}),I(this,Mi,()=>{Math.floor(Math.abs(m(this,mt)))||pe.unsubscribe(m(this,Mi)),I(this,mt,m(this,mt)*.95),I(this,mt,er(m(this,mt),3)),this.changeEvent.notify("drag",m(this,mt))}),this.axis=t?.axis||"y",this.swipe=t?.swipe||!1,$&&I(this,Cs,t!=null&&t.element&&ze(t.element)||document.documentElement)}connect(){$&&m(this,Cs).addEventListener("pointerdown",m(this,qr))}disconnect(){$&&(m(this,Cs).removeEventListener("pointerdown",m(this,qr)),pe.unsubscribe(m(this,Mi)))}};Gn=new WeakMap,Cs=new WeakMap,mt=new WeakMap,qr=new WeakMap,Mi=new WeakMap,B(Yl,Gn,null);let Bd=Yl;var Ql=e=>{throw TypeError(e)},jd=(e,t,s)=>t.has(e)||Ql("Cannot "+s),dt=(e,t,s)=>(jd(e,t,"read from private field"),s?s.call(e):t.get(e)),eo=(e,t,s)=>t.has(e)?Ql("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),xn,ae,Rr;let Ud=class{constructor(){eo(this,xn,new Set),eo(this,ae,new WeakMap),eo(this,Rr,new Yo)}get notifier(){return dt(this,Rr)}register(t){dt(this,ae).has(t)||(dt(this,ae).set(t,{axis:"y",value:0,element:t}),dt(this,xn).add(t),dt(this,Rr).notify())}unregister(t){dt(this,ae).has(t)&&dt(this,xn).has(t)&&(dt(this,ae).delete(t),dt(this,xn).delete(t),dt(this,Rr).notify())}update(t,s,n){const h=dt(this,ae).get(t);h&&(h.axis=s,h.value=n)}hasEntry(t){return dt(this,ae).has(t)}getEntry(t){return dt(this,ae).get(t)}getAll(t){const s=du(t).filter(h=>dt(this,xn).has(h)),n=[];return s.forEach(h=>{dt(this,ae).has(h)&&n.push(dt(this,ae).get(h))}),n}};xn=new WeakMap,ae=new WeakMap,Rr=new WeakMap;const Qs=new Ud;var Xl=e=>{throw TypeError(e)},Jl=(e,t,s)=>t.has(e)||Xl("Cannot "+s),Tt=(e,t,s)=>(Jl(e,t,"read from private field"),s?s.call(e):t.get(e)),Oe=(e,t,s)=>t.has(e)?Xl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),D=(e,t,s,n)=>(Jl(e,t,"write to private field"),t.set(e,s),s),We,Dr,An,Fr,Nr,Tn;let Gd=class{constructor(){Oe(this,We),Oe(this,Dr),Oe(this,An),Oe(this,Fr),Oe(this,Nr),Oe(this,Tn);var t,s;if(D(this,We,"unknown"),D(this,Dr,!1),D(this,An,!1),D(this,Fr,!1),D(this,Nr,!1),D(this,Tn,!1),this.resize=()=>{D(this,Dr,/Mobi|Android/i.test(navigator.userAgent)),D(this,An,"ontouchstart"in window||navigator.maxTouchPoints>0),setTimeout(()=>{D(this,An,"ontouchstart"in window||navigator.maxTouchPoints>0)},0)},$){this.resize(),tt.subscribe(this.resize,Js.DEVICE);{const w=document.createElement("canvas"),v=w.getContext("webgl")||w.getContext("experimental-webgl");D(this,Fr,v&&v instanceof WebGLRenderingContext||!1)}{const w=document.createElement("canvas");w.getContext("2d")&&D(this,Nr,w.toDataURL("image/webp").indexOf("data:image/webp")==0)}const n=window.navigator.userAgent,h=((s=(t=window.navigator)==null?void 0:t.userAgentData)==null?void 0:s.platform)||window.navigator.platform,a=["Macintosh","MacIntel","MacPPC","Mac68K","macOS"],o=["Win32","Win64","Windows","WinCE"],p=["iPhone","iPad","iPod"];a.includes(h)?(D(this,We,"macOS"),D(this,Tn,!0)):p.includes(h)?(D(this,We,"iOS"),D(this,Tn,!0)):o.includes(h)?D(this,We,"Windows"):/Android/.test(n)?D(this,We,"Android"):/Linux/.test(h)?D(this,We,"Linux"):D(this,We,"unknown")}}get OS(){return Tt(this,We)}get isMobile(){return Tt(this,Dr)}get isTouch(){return Tt(this,An)}get isWebgl(){return Tt(this,Fr)}get isWebp(){return Tt(this,Nr)}get isApple(){return Tt(this,Tn)}};We=new WeakMap,Dr=new WeakMap,An=new WeakMap,Fr=new WeakMap,Nr=new WeakMap,Tn=new WeakMap;const Zd=new Gd;var Br,jr,Ur,Ms;let Yd=class{constructor(){Oe(this,Br),Oe(this,jr),Oe(this,Ur),Oe(this,Ms),D(this,Br,0),D(this,jr,0),D(this,Ur,0),D(this,Ms,new st(void 0)),this.resize=()=>{D(this,Br,document.documentElement.clientWidth),D(this,jr,innerHeight),D(this,Ur,devicePixelRatio),matchMedia("(max-width: 600px)").matches?Tt(this,Ms).current="mobile":matchMedia("(max-width: 1024px)").matches?Tt(this,Ms).current="tablet":matchMedia("(max-width: 1280px)").matches?Tt(this,Ms).current="notebook":matchMedia("(min-width: 1281px)").matches&&(Tt(this,Ms).current="desktop")},$&&(this.resize(),tt.subscribe(this.resize,Js.DEVICE))}get width(){return Tt(this,Br)}get height(){return Tt(this,jr)}get type(){return Tt(this,Ms)}get pixelRatio(){return Tt(this,Ur)}};Br=new WeakMap,jr=new WeakMap,Ur=new WeakMap,Ms=new WeakMap;new Yd;var Kl=e=>{throw TypeError(e)},sc=(e,t,s)=>t.has(e)||Kl("Cannot "+s),r=(e,t,s)=>(sc(e,t,"read from private field"),s?s.call(e):t.get(e)),S=(e,t,s)=>t.has(e)?Kl("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),f=(e,t,s,n)=>(sc(e,t,"write to private field"),t.set(e,s),s),et=(e,t,s)=>(sc(e,t,"access private method"),s),oe,va,Gr,Li;let zc=class{constructor(t){S(this,oe,null),S(this,va),S(this,Gr,!1),S(this,Li,()=>{f(this,Gr,!(r(this,oe).scrollWidth>r(this,oe).clientWidth))}),f(this,va,t),f(this,oe,Wh(r(this,va))),me.subscribe(r(this,oe),r(this,Li)),tt.subscribe(r(this,Li)),r(this,Li).call(this)}get element(){return r(this,oe)}get currentScrollValue(){return r(this,Gr)?r(this,oe).scrollTop:r(this,oe).scrollLeft}get vertical(){return r(this,Gr)}destroy(){me.unsubscribe(r(this,Li)),tt.unsubscribe(r(this,Li))}onScroll(t){r(this,oe).addEventListener("scroll",t)}offScroll(t){r(this,oe).removeEventListener("scroll",t)}};oe=new WeakMap,va=new WeakMap,Gr=new WeakMap,Li=new WeakMap;var it,ri,hi,ai,oi,ps,ms,fs,vs,St,Dt,Ft,Nt,gs,pt,Re,De,rn,Fe,Ne,Be,ct,Bt,jt,ye,Ee,te,lr,R,je,ci,ur,$t,bs,Ct,bt,ee,hn,ws,nt,Y,Hc,so,qc,Vc,Rc,Dc,Fc,Nc,dr,an,li,Bc,jc,io,Uc;let tu=(Uc=class extends HTMLElement{constructor(){super(...arguments),S(this,Y),S(this,it),S(this,ri),S(this,hi),S(this,ai),S(this,oi),S(this,ps),S(this,ms),S(this,fs),S(this,vs),S(this,St),S(this,Dt),S(this,Ft),S(this,Nt),S(this,gs),S(this,pt),S(this,Re),S(this,De),S(this,rn),S(this,Fe),S(this,Ne),S(this,Be),S(this,ct),S(this,Bt),S(this,jt),S(this,ye),S(this,Ee),S(this,te),S(this,lr),S(this,R),S(this,je),S(this,ci),S(this,ur),S(this,$t),S(this,bs),S(this,Ct),S(this,bt),S(this,ee),S(this,hn),S(this,ws),S(this,nt),S(this,dr),S(this,an),f(this,it,null),f(this,ri,new b(this,"--damping",20)),f(this,hi,new b(this,"--mass",0)),f(this,ai,new b(this,"--stiffness",0)),f(this,oi,new b(this,"--target","")),f(this,ps,new b(this,"--disabled",!1)),f(this,ms,new b(this,"--distance-offset",0,{rawValueCheck:!1})),f(this,fs,new b(this,"--start-offset",0,{rawValueCheck:!1})),f(this,vs,new b(this,"--capture-once",!1)),f(this,St,new b(this,"--captured","")),f(this,Dt,new b(this,"--released","")),f(this,Ft,new b(this,"--captured-from-start","")),f(this,Nt,new b(this,"--captured-from-finish","")),f(this,gs,new b(this,"--released-from-start","")),f(this,pt,new b(this,"--released-from-finish","")),f(this,Re,new b(this,"--passed-var","")),f(this,De,new b(this,"--progress-var","")),f(this,rn,new b(this,"--animation-var-type","current")),f(this,Fe,new b(this,"--distance-var","")),f(this,Ne,new b(this,"--start-var","")),f(this,Be,new b(this,"--finish-var","")),f(this,ct,new st(!1)),f(this,Bt,new st(!1)),f(this,jt,new st(!1)),f(this,ye,new st(!1)),f(this,Ee,new st(!1)),f(this,te,new st(!1)),f(this,lr,[]),f(this,R,this),f(this,je,0),f(this,ci,0),f(this,ur,0),f(this,$t,new tc(0,{order:xh.SEGMENT,min:0,max:1})),f(this,bs,0),f(this,Ct,0),f(this,bt,0),f(this,ee,0),f(this,hn,!1),f(this,ws,!1),f(this,nt,!0),this.findAnotherScrollEntries=Xs(()=>{const e=Qs.getAll(this).reverse();let t=0;e.forEach((s,n)=>{s.element===r(this,it)&&(t=n)}),f(this,lr,e.slice(t+1))},0),f(this,dr,()=>{r(this,nt)||(this.resize(),r(this,an).call(this))}),f(this,an,()=>{!r(this,nt)&&r(this,hn)&&this.tick()})}get scrollContainer(){return r(this,it)}set scrollContainer(e){et(this,Y,so).call(this),f(this,it,e),et(this,Y,Hc).call(this)}get distanceOffsetCSSProperty(){return r(this,ms)}get startOffsetCSSProperty(){return r(this,fs)}get captureOnceCSSProperty(){return r(this,vs)}get capturedCSSProperty(){return r(this,St)}get releasedCSSProperty(){return r(this,Dt)}get capturedFromStartCSSProperty(){return r(this,Ft)}get capturedFromFinishCSSProperty(){return r(this,Nt)}get releasedFromStartCSSProperty(){return r(this,gs)}get releasedFromFinishCSSProperty(){return r(this,pt)}get passedVarCSSProperty(){return r(this,Re)}get progressVarCSSProperty(){return r(this,De)}get animationVarTypeCSSProperty(){return r(this,rn)}get distanceVarCSSProperty(){return r(this,Fe)}get startVarCSSProperty(){return r(this,Ne)}get finishVarCSSProperty(){return r(this,Be)}get disabledCSSProperty(){return r(this,ps)}get dampingCSSProperty(){return r(this,ri)}get massCSSProperty(){return r(this,hi)}get stiffnessCSSProperty(){return r(this,ai)}get targetCSSProperty(){return r(this,oi)}get isCaptured(){return r(this,ct)}get isReleased(){return r(this,Bt)}get isCapturedFromStart(){return r(this,jt)}get isReleasedFromStart(){return r(this,ye)}get isCapturedFromFinish(){return r(this,Ee)}get isReleasedFromFinish(){return r(this,te)}get directionPosition(){return r(this,je)}get directionSize(){return r(this,ci)}get passed(){return r(this,$t)}get progress(){return r(this,bs)}get start(){return r(this,Ct)}get finish(){return r(this,ee)}get distance(){return r(this,bt)}get isCapturedOnce(){return r(this,ws)}get isDisabled(){return r(this,nt)}resize(){f(this,ci,r(this,it).vertical?this.offsetHeight:this.offsetWidth);const e=r(this,it)instanceof HTMLElement?r(this,it):r(this,it).element;f(this,je,r(this,it).vertical?tr(this,e):Lh(this,e));const t=al(this,r(this,it).vertical?"top":"left");f(this,je,r(this,je)-t),f(this,Ct,this.getStart()),f(this,bt,this.getDistance()),f(this,Ct,r(this,Ct)+r(this,fs).current),f(this,bt,r(this,bt)+r(this,ms).current),f(this,ee,r(this,Ct)+r(this,bt)),r(this,it).currentScrollValue>r(this,ee)&&!r(this,ct).current&&!r(this,Bt).current&&(r(this,ct).current=!0),this.setVar(r(this,Ne).current,r(this,Ct)),this.setVar(r(this,Be).current,r(this,ee)),this.setVar(r(this,Fe).current,r(this,bt)),r(this,$t).max=r(this,bt),f(this,hn,!0)}tick(){let e=r(this,it).currentScrollValue;r(this,lr).forEach(s=>{e+=s.value}),r(this,$t).set(e-r(this,Ct));const t=Math.round(e);r(this,ct).current&&(t>=r(this,Ct)?r(this,jt).current||et(this,Y,Rc).call(this):r(this,jt).current&&!r(this,ye).current&&et(this,Y,Fc).call(this),t<r(this,ee)?r(this,te).current&&!r(this,Ee).current&&et(this,Y,Dc).call(this):r(this,jt).current&&!r(this,te).current&&et(this,Y,Nc).call(this)),t>=r(this,Ct)&&t<r(this,ee)?r(this,ct).current||et(this,Y,qc).call(this):r(this,ct).current&&(r(this,$t).set(Sd(r(this,bt)/2,r(this,$t).target,0,r(this,bt))),et(this,Y,Vc).call(this)),r(this,ws)&&r(this,vs).current&&(r(this,St).current&&r(this,R).classList.add(r(this,St).current),f(this,nt,!0))}disable(){this.style.cssText="",f(this,je,0),f(this,ci,0),r(this,$t).reset(),f(this,bs,0),f(this,Ct,0),f(this,bt,0),f(this,ee,0),f(this,hn,!1),r(this,ct).current=!1,r(this,Bt).current=!1,r(this,jt).current=!1,r(this,ye).current=!1,r(this,Ee).current=!1,r(this,te).current=!1,f(this,ws,!1),f(this,nt,!0),et(this,Y,io).call(this)}enable(){f(this,nt,!1)}connectedCallback(){this.scrollContainer=new zc(this)}disconnectedCallback(){r(this,it)instanceof zc&&r(this,it).destroy(),et(this,Y,so).call(this)}removeVar(e){e&&r(this,R).style.removeProperty(`--${e}`)}setVar(e,t){e&&r(this,R).style.setProperty(`--${e}`,t.toString())}getDistance(){return r(this,ci)+r(this,ur)}getStart(){return r(this,je)-r(this,ur)}},it=new WeakMap,ri=new WeakMap,hi=new WeakMap,ai=new WeakMap,oi=new WeakMap,ps=new WeakMap,ms=new WeakMap,fs=new WeakMap,vs=new WeakMap,St=new WeakMap,Dt=new WeakMap,Ft=new WeakMap,Nt=new WeakMap,gs=new WeakMap,pt=new WeakMap,Re=new WeakMap,De=new WeakMap,rn=new WeakMap,Fe=new WeakMap,Ne=new WeakMap,Be=new WeakMap,ct=new WeakMap,Bt=new WeakMap,jt=new WeakMap,ye=new WeakMap,Ee=new WeakMap,te=new WeakMap,lr=new WeakMap,R=new WeakMap,je=new WeakMap,ci=new WeakMap,ur=new WeakMap,$t=new WeakMap,bs=new WeakMap,Ct=new WeakMap,bt=new WeakMap,ee=new WeakMap,hn=new WeakMap,ws=new WeakMap,nt=new WeakMap,Y=new WeakSet,Hc=function(){if(!r(this,it))return;r(this,ct).subscribe(t=>{t.current&&q(this,"scrollSegmentCapture",{composed:!0,custom:!0})}),r(this,jt).subscribe(t=>{t.current&&q(this,"scrollSegmentCaptureFromStart",{composed:!0,custom:!0})}),r(this,Ee).subscribe(t=>{t.current&&q(this,"scrollSegmentCaptureFromFinish",{composed:!0,custom:!0})}),r(this,Bt).subscribe(t=>{t.current&&q(this,"scrollSegmentRelease",{composed:!0,custom:!0})}),r(this,ye).subscribe(t=>{t.current&&q(this,"scrollSegmentReleaseFromStart",{composed:!0,custom:!0})}),r(this,te).subscribe(t=>{t.current&&q(this,"scrollSegmentReleaseFromFinish",{composed:!0,custom:!0})}),r(this,ri).observe(),r(this,hi).observe(),r(this,ai).observe(),r(this,oi).observe(),r(this,ps).observe(),r(this,ms).observe(),r(this,fs).observe(),r(this,vs).observe(),r(this,St).observe(),r(this,Dt).observe(),r(this,Ft).observe(),r(this,Nt).observe(),r(this,gs).observe(),r(this,pt).observe(),r(this,Re).observe(),r(this,De).observe(),r(this,rn).observe(),r(this,Fe).observe(),r(this,Ne).observe(),r(this,Be).observe();let e=!1;this.findAnotherScrollEntries(),r(this,ps).current||this.enable(),r(this,ri).subscribe(t=>{r(this,$t).damping=t.current}),r(this,hi).subscribe(t=>{r(this,$t).mass=t.current}),r(this,ai).subscribe(t=>{r(this,$t).stiffness=t.current}),r(this,oi).subscribe(t=>{t.previous&&et(this,Y,io).call(this),t.current?t.current==="parent"?f(this,R,this.parentElement||this):f(this,R,document.querySelector(t.current)||this):f(this,R,this)}),r(this,ps).subscribe(t=>{t.current&&!t.previous?this.disable():!t.current&&t.previous&&(this.resize(),this.enable())}),r(this,fs).subscribe(()=>{e&&!r(this,nt)&&this.resize()}),r(this,ms).subscribe(()=>{e&&!r(this,nt)&&this.resize()}),r(this,St).subscribe(t=>{et(this,Y,li).call(this,t)}),r(this,Ft).subscribe(t=>{et(this,Y,li).call(this,t)}),r(this,Nt).subscribe(t=>{et(this,Y,li).call(this,t)}),r(this,Dt).subscribe(t=>{et(this,Y,li).call(this,t)}),r(this,gs).subscribe(t=>{et(this,Y,li).call(this,t)}),r(this,pt).subscribe(t=>{et(this,Y,li).call(this,t)}),r(this,vs).subscribe(t=>{r(this,nt)||!t.current&&t.previous&&(this.resize(),this.enable())}),r(this,Re).subscribe(t=>{r(this,nt)||(this.removeVar(t.previous),this.setVar(t.current,this.passed.current))}),r(this,De).subscribe(t=>{r(this,nt)||(this.removeVar(t.previous),this.setVar(t.current,r(this,bs)))}),r(this,Ne).subscribe(t=>{r(this,nt)||(this.removeVar(t.previous),this.setVar(t.current,r(this,Ct)))}),r(this,Be).subscribe(t=>{r(this,nt)||(this.removeVar(t.previous),this.setVar(t.current,r(this,ee)))}),r(this,Fe).subscribe(t=>{r(this,nt)||(this.removeVar(t.previous),this.setVar(t.current,r(this,bt)))}),r(this,$t).subscribe(t=>{const s=r(this,$t)[r(this,rn).current];f(this,bs,s/r(this,bt)||0),this.setVar(r(this,Re).current,s.toFixed(6)),this.setVar(r(this,De).current,r(this,bs).toFixed(6))}),tt.subscribe(r(this,dr),Js.SCROLL),this.scrollContainer.onScroll(r(this,an)),e=!0},so=function(){r(this,it)&&(tt.unsubscribe(r(this,dr)),this.scrollContainer.offScroll(r(this,an)),r(this,ri).close(),r(this,hi).close(),r(this,ai).close(),r(this,oi).close(),r(this,ps).close(),r(this,ms).close(),r(this,fs).close(),r(this,vs).close(),r(this,St).close(),r(this,Dt).close(),r(this,Ft).close(),r(this,Nt).close(),r(this,gs).close(),r(this,pt).close(),r(this,Re).close(),r(this,De).close(),r(this,Fe).close(),r(this,Ne).close(),r(this,Be).close(),r(this,ct).close(),r(this,Bt).close(),r(this,jt).close(),r(this,ye).close(),r(this,Ee).close(),r(this,te).close(),this.disable())},qc=function(){r(this,ct).current=!0,r(this,Bt).current=!1,f(this,ws,!0),r(this,Dt).current&&r(this,R).classList.remove(r(this,Dt).current),r(this,pt).current&&r(this,R).classList.remove(r(this,pt).current),r(this,pt).current&&r(this,R).classList.remove(r(this,pt).current),r(this,St).current&&r(this,R).classList.add(r(this,St).current)},Vc=function(){r(this,Bt).current=!0,r(this,ct).current=!1,f(this,ws,!0),r(this,St).current&&r(this,R).classList.remove(r(this,St).current),r(this,Ft).current&&r(this,R).classList.remove(r(this,Ft).current),r(this,Nt).current&&r(this,R).classList.remove(r(this,Nt).current),r(this,Dt).current&&r(this,R).classList.add(r(this,Dt).current)},Rc=function(){r(this,ct).current=!0,r(this,jt).current=!0,r(this,ye).current=!1,r(this,Ft).current&&r(this,R).classList.add(r(this,Ft).current)},Dc=function(){r(this,ct).current=!0,r(this,Ee).current=!0,r(this,te).current=!1,r(this,Nt).current&&r(this,R).classList.add(r(this,Nt).current)},Fc=function(){r(this,Bt).current=!0,r(this,ye).current=!0,r(this,jt).current=!1,r(this,pt).current&&r(this,R).classList.add(r(this,pt).current)},Nc=function(){r(this,Bt).current=!0,r(this,te).current=!0,r(this,Ee).current=!1,r(this,pt).current&&r(this,R).classList.add(r(this,pt).current)},dr=new WeakMap,an=new WeakMap,li=function(e){if(r(this,nt)){e.previous&&r(this,R).classList.remove(e.previous),e.current&&r(this,R).classList.remove(e.current);return}e.current&&r(this,ct).current?(e.previous&&r(this,R).classList.remove(e.previous),r(this,R).classList.add(e.current)):!e.current&&e.previous&&r(this,R).classList.remove(e.previous)},Bc=function(...e){e.forEach(t=>{t&&r(this,R).classList.remove(t)})},jc=function(...e){e.forEach(t=>{t&&r(this,R).style.removeProperty(`--${t}`)})},io=function(){et(this,Y,Bc).call(this,r(this,St).current,r(this,Ft).current,r(this,Nt).current,r(this,Dt).current,r(this,gs).current,r(this,pt).current),et(this,Y,jc).call(this,r(this,Re).current,r(this,De).current,r(this,Fe).current,r(this,Ne).current,r(this,Be).current)},Uc);$&&!customElements.get("scroll-segment")&&customElements.define("scroll-segment",tu);var Qd=Object.defineProperty,Gc=Object.getOwnPropertySymbols,Xd=Object.prototype.hasOwnProperty,Jd=Object.prototype.propertyIsEnumerable,eu=e=>{throw TypeError(e)},Zc=(e,t,s)=>t in e?Qd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Kd=(e,t)=>{for(var s in t||(t={}))Xd.call(t,s)&&Zc(e,s,t[s]);if(Gc)for(var s of Gc(t))Jd.call(t,s)&&Zc(e,s,t[s]);return e},ic=(e,t,s)=>t.has(e)||eu("Cannot "+s),i=(e,t,s)=>(ic(e,t,"read from private field"),s?s.call(e):t.get(e)),u=(e,t,s)=>t.has(e)?eu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),E=(e,t,s,n)=>(ic(e,t,"write to private field"),t.set(e,s),s),O=(e,t,s)=>(ic(e,t,"access private method"),s),U,ga,rt,Pn,Ue,Wi;class tp{constructor(t,s,n){u(this,U),u(this,ga),u(this,rt),u(this,Pn,0),u(this,Ue,0),u(this,Wi,null),E(this,U,t),E(this,ga,s),E(this,rt,n),Qs.register(i(this,U))}get index(){return i(this,ga)}get size(){return i(this,Pn)}get position(){return i(this,Ue)}destroy(){Qs.unregister(i(this,U)),this.unsetTransform()}unsetTransform(){i(this,U).style.transform="",this.mark(null),this.setSize()}setSize(t){t?(i(this,U).style.setProperty("--size",t+"px"),i(this,rt).axisCSSProperty.current==="x"?(i(this,U).style.width=t+"px",i(this,U).style.height=""):(i(this,U).style.height=t+"px",i(this,U).style.width="")):(i(this,U).style.width="",i(this,U).style.height="",i(this,U).style.removeProperty("--size"))}resize(){E(this,Pn,i(this,rt).vertical?i(this,U).offsetHeight:i(this,U).offsetWidth),E(this,Ue,i(this,rt).vertical?tr(i(this,U)):Lh(i(this,U))),E(this,Ue,i(this,Ue)-i(this,rt).contentPosition)}transform(){let t=0;const s=i(this,rt).viewportSize*i(this,rt).sectionDistanceScaleCSSProperty.current;i(this,rt).loopCSSProperty.current&&i(this,rt).overscroll&&i(this,Ue)+i(this,Pn)<i(this,rt).currentScrollValue&&(t=i(this,rt).distance*-1-i(this,rt).gap),Qs.update(i(this,U),i(this,rt).axisCSSProperty.current,t);const n=i(this,rt).currentScrollValue+t,h=i(this,Ue)-i(this,rt).viewportSize-s,a=i(this,Ue)+i(this,Pn)+s,o=ti(n,h,a);i(this,rt).vertical?i(this,U).style.transform=`translate3d(0px, ${o*-1}px, 0px)`:i(this,U).style.transform=`translate3d(${o*-1}px, 0px, 0px)`}mark(t){i(this,Wi)!==t&&(i(this,Wi)&&i(this,U).classList.remove(i(this,Wi)),t&&i(this,U).classList.add(t),E(this,Wi,t),q(i(this,U),"scrollSectionMarkChange",{composed:!0,detail:{mark:i(this,Wi)},custom:!0}))}}U=new WeakMap,ga=new WeakMap,rt=new WeakMap,Pn=new WeakMap,Ue=new WeakMap,Wi=new WeakMap;const ep=Ks({":host":{position:"relative",width:"100%",height:"100%",display:"block",outline:"none"},".static":{position:"var(--static-position, absolute)",top:"var(--static-top, 0)",left:"var(--static-left, 0)",width:"var(--static-width, 100%)",height:"var(--static-height, 100%)"},".content-wrapper":{width:"100%",height:"100%",overflow:"var(--overflow, initial)"},".content":{position:"relative",display:"flex",width:"100%",height:"100%",gap:"var(--gap, 0px)",willChange:"var(--will-change, transform)"},":host(.hibernated) .content-wrapper":{display:"contents"},":host(.hibernated) .content":{display:"contents"},"::slotted(*)":{flexShrink:"0"}});var z,On,Qt,Ui,Ls,Ws,Vs,Xe,xi,Ai,Rs,Gi,In,Je,xt,_n,zn,Hn,qn,Zr,Pe,Zn,Zi,Ke,Yi,js,Ti,Vn,Pi,Oi,Ii,H,kh,C,ba,wa,ft,J,ue,is,tn,ns,Ht,qt,Yr,_i,Ds,Us,Qi,Sh,Xi,Fs,$h,ts,_t,A,To,Ch,Kn,Fa,Na,Po,Oo,Xt,Mh,su,Qr,ya,Io,_o,Ji,Ea,ka;class sr extends HTMLElement{constructor(){if(super(),u(this,A),u(this,z,null),u(this,On,new b(this,"--controls",!0)),u(this,Qt,new b(this,"--axis","y")),u(this,Ui,new b(this,"--reverse",!1)),u(this,Ls,new b(this,"--direction",0)),u(this,Ws,new b(this,"--pages",0,{validate:t=>Math.max(0,t-1)})),u(this,Vs,new b(this,"--split",!1)),u(this,Xe,new b(this,"--sectional",!1)),u(this,xi,new b(this,"--tween-easing",!1)),u(this,Ai,new b(this,"--tween-duration",!1)),u(this,Rs,new b(this,"--auto-size",!1)),u(this,Gi,new b(this,"--wheel-max-delta",!1)),u(this,In,new b(this,"--drag-inertion",1)),u(this,Je,new b(this,"--sections-in-view",1)),u(this,xt,new b(this,"--loop",!1)),u(this,_n,new b(this,"--damping",20)),u(this,zn,new b(this,"--mass",0)),u(this,Hn,new b(this,"--stiffness",0)),u(this,qn,new b(this,"--mouse-drag",!1)),u(this,Zr,new b(this,"--section-distance-scale",.5)),u(this,Pe,new b(this,"--autoplay",0)),u(this,Zn,new b(this,"--autoplay-pause-duration",0)),u(this,Zi,new b(this,"--autoplay-user-direction",!1)),u(this,Ke,new b(this,"--classes",!1)),u(this,Yi,new b(this,"--current-index-start-offset",0)),u(this,js,new b(this,"--current-index-end-offset",0)),u(this,Ti,new b(this,"--focus-delay",0)),u(this,Vn,new b(this,"--focus-duration",3e3)),u(this,Pi,new b(this,"--disabled",!1)),u(this,Oi,new b(this,"--hibernate",!1)),u(this,Ii,null),u(this,H,null),u(this,kh,null),u(this,C,[]),u(this,ba,0),u(this,wa,0),u(this,ft,0),u(this,J,0),u(this,ue,0),u(this,is,null),u(this,tn,null),u(this,ns,null),u(this,Ht,null),u(this,qt,new st(0)),u(this,Yr,0),u(this,_i,0),u(this,Ds,!1),u(this,Us,!0),u(this,Qi,!0),u(this,Sh),u(this,Xi),u(this,Fs,new Gl),u(this,$h,!1),u(this,ts,null),u(this,_t,!1),u(this,Xt,()=>{if(i(this,Oi).current)return;i(this,z).unlistenAnimationFrame();const t=this.currentScrollValue/i(this,J)||0,s=i(this,qt).current;if(E(this,ba,this.vertical?tr(this):Lh(this)),E(this,wa,this.vertical?tr(i(this,H)):Lh(i(this,H))),E(this,ft,this.vertical?this.offsetHeight:this.offsetWidth),this.vertical?E(this,ue,Ha.parse(getComputedStyle(i(this,H)).rowGap)):E(this,ue,Ha.parse(getComputedStyle(i(this,H)).columnGap)),i(this,Rs).current&&i(this,C).length){const n=i(this,Je).current,h=(i(this,ft)-i(this,ue)*(n-1))/n;i(this,C).forEach(a=>{a.setSize(h)})}else i(this,C).forEach(n=>{n.setSize()});if(i(this,C).forEach(n=>{n.resize()}),i(this,Ws).current){E(this,J,i(this,ft)*i(this,Ws).current);const n=i(this,J)+i(this,ft);this.vertical?(i(this,H).style.width=n+"px",i(this,H).style.height="100%"):(i(this,H).style.height=n+"px",i(this,H).style.width="100%")}else this.vertical?(i(this,H).style.width="100%",i(this,H).style.height="max-content",E(this,J,i(this,H).offsetHeight-i(this,ft))):(i(this,H).style.width="max-content",i(this,H).style.height="100%",E(this,J,i(this,H).offsetWidth-i(this,ft)));if(!i(this,xt).current){const n=getComputedStyle(this),h=this.vertical?parseFloat(n.paddingBlockStart)+parseFloat(n.paddingBlockEnd):parseFloat(n.paddingInlineStart)+parseFloat(n.paddingInlineEnd);E(this,J,i(this,J)+h),i(this,z).max=i(this,J)}if(i(this,xt).current&&i(this,C).length){const n=i(this,C)[i(this,C).length-1],h=n.position+n.size-i(this,ft),a=i(this,J)-h;E(this,_i,n.position+n.size+a)}else E(this,_i,i(this,J));if(i(this,Xe).current&&i(this,C).length){const n=i(this,C)[s];i(this,z).set(n.position,{equalize:!0})}else i(this,z).set(t*i(this,J),{equalize:!0});E(this,Ds,(this.vertical?i(this,H).offsetHeight:i(this,H).offsetWidth)>i(this,ft)),this.classList.toggle("has-overflow",i(this,Ds)),i(this,Ds)?i(this,Pi).current||O(this,A,Na).call(this):O(this,A,Fa).call(this),i(this,Mh).call(this)}),u(this,Mh,()=>{if(!i(this,Ds)||i(this,Qi)||i(this,Us))return;const t=this.currentScrollValue;if(E(this,Yr,Math.max(0,t-i(this,J))),i(this,C).length){for(let s=0;s<i(this,C).length;s++)i(this,C)[s].transform();i(this,qt).current=O(this,A,Ea).call(this)}else this.vertical?i(this,H).style.transform=`translate3d(0px, ${t*-1}px, 0px)`:i(this,H).style.transform=`translate3d(${t*-1}px, 0px, 0px)`;Qs.update(this,i(this,Qt).current,t)}),u(this,Qr,(t,s)=>{i(this,On).current&&(O(this,A,Io).call(this,Math.sign(s)||1),i(this,ya).call(this,t,s))}),u(this,ya,(t,s)=>{if(!(i(this,Ls).current&&(i(this,Ls).current<0&&s>0||i(this,Ls).current>0&&s<0))&&(i(this,Xi)||i(this,Fs).unlistenAnimationFrame(),!i(this,Pe).current&&i(this,Ti).current&&(clearInterval(i(this,Sh)),E(this,Sh,setTimeout(()=>{const n=i(this,C)[O(this,A,Ea).call(this)];n&&this.scrollToSection(n.index,{tween:{duration:i(this,Vn).current,easing:_l}})},i(this,Ti).current))),!(t.includes("drag")&&!Zd.isTouch&&!i(this,qn).current))){if(i(this,Xe).current&&t!=="drag"){const n=Math.sign(s);if(i(this,C).length){const h={tween:i(this,xi).current||i(this,Ai).current?{easing:i(this,xi).current||"easeInOutCubic",duration:i(this,Ai).current||500}:void 0};i(this,$h)?this.scrollToSection(i(this,qt).current,h):this.shiftSections(n,h)}else i(this,z).shift(n*i(this,ft))}else i(this,z).shift(s);E(this,$h,t==="drag")}}),u(this,ka,()=>{E(this,_t,!0),this.hibernatedCSSProperty.current||O(this,A,Oo).call(this)}),$){const t=this.attachShadow({mode:"open"});t.adoptedStyleSheets=[ep];const s=document.createElement("div");s.className="static",s.innerHTML='<slot name="static"></slot>',t.appendChild(s),E(this,Ii,document.createElement("div")),i(this,Ii).className="content-wrapper",E(this,H,document.createElement("div")),i(this,H).className="content",E(this,kh,document.createElement("slot")),i(this,H).appendChild(i(this,kh)),i(this,Ii).appendChild(i(this,H)),t.appendChild(i(this,Ii))}}get damped(){return i(this,z)}get controlsCSSProperty(){return i(this,On)}get axisCSSProperty(){return i(this,Qt)}get reverseCSSProperty(){return i(this,Ui)}get directionCSSProperty(){return i(this,Ls)}get pagesCSSProperty(){return i(this,Ws)}get splitCSSProperty(){return i(this,Vs)}get sectionalCSSProperty(){return i(this,Xe)}get easingCSSProperty(){return i(this,xi)}get durationCSSProperty(){return i(this,Ai)}get autoSizeCSSProperty(){return i(this,Rs)}get wheelMaxDeltaCSSProperty(){return i(this,Gi)}get dragInertionCSSProperty(){return i(this,In)}get sectionsInViewCSSProperty(){return i(this,Je)}get loopCSSProperty(){return i(this,xt)}get dampingCSSProperty(){return i(this,_n)}get massCSSProperty(){return i(this,zn)}get stiffnessCSSProperty(){return i(this,Hn)}get mouseDragCSSProperty(){return i(this,qn)}get sectionDistanceScaleCSSProperty(){return i(this,Zr)}get autoplayCSSProperty(){return i(this,Pe)}get autoplayPauseDurationCSSProperty(){return i(this,Zn)}get autoplayUserDirectionCSSProperty(){return i(this,Zi)}get classesCSSProperty(){return i(this,Ke)}get currentIndexStartOffsetCSSProperty(){return i(this,Yi)}get currentIndexEndOffsetCSSProperty(){return i(this,js)}get focusDelayCSSProperty(){return i(this,Ti)}get focusDurationCSSProperty(){return i(this,Vn)}get disabledCSSProperty(){return i(this,Pi)}get hibernatedCSSProperty(){return i(this,Oi)}get currentScrollValue(){return O(this,A,_o).call(this,"current")}get targetScrollValue(){return O(this,A,_o).call(this,"target")}get contentWrapperElement(){return i(this,Ii)}get contentElement(){return i(this,H)}get sections(){return i(this,C)}get position(){return i(this,ba)}get contentPosition(){return i(this,wa)}get viewportSize(){return i(this,ft)}get scrollSize(){return i(this,J)}get gap(){return i(this,ue)}get counter(){return i(this,qt)}get limit(){return Math.ceil(i(this,C).length-i(this,Je).current)}get distance(){return i(this,_i)}get loopDistance(){return i(this,xt).current?i(this,_i)+i(this,ue):i(this,_i)}get hasOverflow(){return i(this,Ds)}get overscroll(){return i(this,Yr)}get scrollLine(){return i(this,ts)}get vertical(){return i(this,Qt).current==="y"}get currentProgress(){return this.currentScrollValue/this.loopDistance||0}get targetProgress(){return this.targetScrollValue/this.loopDistance||0}get scrollWidth(){return i(this,Qt).current==="y"?0:i(this,z).distance}get scrollHeight(){return i(this,Qt).current==="x"?0:i(this,z).distance}onScroll(...t){return i(this,z).subscribe(...t)}offScroll(...t){i(this,z).unsubscribe(...t)}range(t,s,n=0){const h=t-n,a=h+s+n*2;return this.currentProgress<h?0:this.currentProgress>a?1:(this.currentProgress-h)/(a-h)}curve(t,s,n=0){return Math.sin(this.range(t,s,n)*Math.PI)}visible(t,s,n=0){const h=t-n,a=h+s+n*2;return this.currentProgress>=h&&this.currentProgress<=a}scrollToSection(t,s){if(!i(this,C).length)return;const n=i(this,qt).current,h=O(this,A,su).call(this,t),a=i(this,C)[n],o=i(this,C)[h];if(a&&o){let p=0;const w=O(this,A,Ea).call(this),v=i(this,C)[w],Z=v?this.targetScrollValue-v.position:0;i(this,xt).current?h===0&&n===i(this,C).length-1?p=i(this,J)+i(this,ft)-a.position+i(this,ue):h===i(this,C).length-1&&n===0?p=o.position-(i(this,J)+i(this,ft)+i(this,ue)):p=o.position-a.position:p=o.position-a.position,this.shiftPosition(p-Z,s)}}shiftSections(t,s){i(this,C).length&&this.scrollToSection(i(this,qt).current+t,s)}setPosition(t,s){O(this,A,Io).call(this,Math.sign(t)||1),s!=null&&s.tween?i(this,Xi)||(i(this,Fs).set(i(this,z).current,{equalize:!0}),i(this,Fs).set(t,Kd({},s.tween)),E(this,Xi,setTimeout(()=>{E(this,Xi,void 0)},s.tween.duration||0))):i(this,z).set(t,{equalize:s?.behaviour==="instant"})}shiftPosition(t,s){this.setPosition(i(this,z).target+t,s)}connectedCallback(){Qs.register(this),E(this,z,new tc(0,{damping:.01,min:0,order:xh.SCROLL})),this.setAttribute("tabindex","0"),E(this,is,new Nd({element:i(this,H)})),i(this,is).changeEvent.subscribe(i(this,Qr)),E(this,tn,new Dd({element:this})),i(this,tn).changeEvent.subscribe(i(this,Qr)),E(this,ns,new Bd({element:i(this,H)})),i(this,ns).changeEvent.subscribe(i(this,Qr)),E(this,Ht,new Fd({culling:this})),i(this,Ht).changeEvent.subscribe(i(this,ya)),i(this,Qt).subscribe(()=>{O(this,A,To).call(this)}),i(this,Ui).subscribe(()=>{O(this,A,To).call(this)}),i(this,Gi).subscribe(t=>{i(this,is).axis=t.current?"max":i(this,Qt).current}),i(this,In).subscribe(t=>{i(this,ns).inertion=typeof t.current=="number"?t.current:1}),i(this,Ws).subscribe(()=>{i(this,_t)&&i(this,Xt).call(this)}),i(this,Vs).subscribe(({current:t})=>{i(this,_t)&&(t?O(this,A,Ch).call(this):O(this,A,Kn).call(this))}),i(this,Xe).subscribe(t=>{i(this,is).debounce=t.current,i(this,ns).swipe=t.current,i(this,Ht).interval=t.current,i(this,_t)&&(t.current&&!t.previous&&!i(this,C).length?O(this,A,Ch).call(this):!t.current&&t.previous&&i(this,C).length&&O(this,A,Kn).call(this))}),i(this,Rs).subscribe(t=>{i(this,_t)&&(i(this,Xt).call(this),t.current&&!t.previous&&!i(this,C).length?O(this,A,Ch).call(this):!t.current&&t.previous&&i(this,C).length&&O(this,A,Kn).call(this))}),i(this,Je).subscribe(t=>{i(this,_t)&&(i(this,Xt).call(this),O(this,A,Ji).call(this))}),i(this,xt).subscribe(t=>{t.current?(i(this,_t)&&(i(this,C).length||(i(this,Vs).current=!0)),i(this,z).max=1/0,i(this,z).min=-1/0):(E(this,Yr,0),i(this,z).max=i(this,J),i(this,z).min=0)}),i(this,_n).subscribe(t=>{i(this,z).damping=t.current}),i(this,zn).subscribe(t=>{i(this,z).mass=t.current}),i(this,Hn).subscribe(t=>{i(this,z).stiffness=t.current}),i(this,Pe).subscribe(t=>{i(this,Ht).speed=t.current,!i(this,Us)&&t.current&&!t.previous?i(this,Ht).connect():!t.current&&t.previous&&i(this,Ht).disconnect()}),i(this,Zi).subscribe(t=>{t.current||(i(this,Ht).direction=1)}),i(this,Ke).subscribe(t=>{i(this,_t)&&O(this,A,Ji).call(this)}),i(this,Yi).subscribe(t=>{i(this,_t)&&i(this,Ke).current&&O(this,A,Ji).call(this)}),i(this,js).subscribe(t=>{i(this,_t)&&i(this,Ke).current&&O(this,A,Ji).call(this)}),i(this,z).isRunning.subscribe(t=>{this.classList.toggle("active",t.current)}),i(this,qt).subscribe(t=>{i(this,C).length&&O(this,A,Ji).call(this)}),i(this,Fs).subscribe(t=>{i(this,Fs).isRunning.current&&i(this,z).set(t.current,{equalize:!0})}),i(this,Pi).subscribe(t=>{t.current&&!t.previous?(this.classList.add("disabled"),O(this,A,Fa).call(this)):!t.current&&t.previous&&(this.classList.remove("disabled"),O(this,A,Na).call(this))}),i(this,Oi).subscribe(t=>{t.current&&!t.previous?(this.classList.add("hibernated"),O(this,A,Po).call(this)):!t.current&&t.previous&&(this.classList.remove("hibernated"),O(this,A,Oo).call(this))}),i(this,On).observe(),i(this,Qt).observe(),i(this,Ui).observe(),i(this,Ls).observe(),i(this,Ws).observe(),i(this,Vs).observe(),i(this,Xe).observe(),i(this,xi).observe(),i(this,Ai).observe(),i(this,Rs).observe(),i(this,Gi).observe(),i(this,In).observe(),i(this,Je).observe(),i(this,xt).observe(),i(this,_n).observe(),i(this,zn).observe(),i(this,Hn).observe(),i(this,qn).observe(),i(this,Zr).observe(),i(this,Pe).observe(),i(this,Pe).observe(),i(this,Zn).observe(),i(this,Zi).observe(),i(this,Ke).observe(),i(this,Yi).observe(),i(this,js).observe(),i(this,Ti).observe(),i(this,Vn).observe(),i(this,Pi).observe(),i(this,Oi).observe(),tt.subscribe(i(this,ka),Js.LAST)}disconnectedCallback(){this.removeAttribute("tabindex"),this.classList.remove("disabled"),this.classList.remove("hibernated"),i(this,On).unobserve(),i(this,Qt).unobserve(),i(this,Ui).unobserve(),i(this,Ls).unobserve(),i(this,Ws).unobserve(),i(this,Vs).unobserve(),i(this,Xe).unobserve(),i(this,xi).unobserve(),i(this,Ai).unobserve(),i(this,Rs).unobserve(),i(this,Gi).unobserve(),i(this,In).unobserve(),i(this,Je).unobserve(),i(this,xt).unobserve(),i(this,_n).unobserve(),i(this,zn).unobserve(),i(this,Hn).unobserve(),i(this,qn).unobserve(),i(this,Zr).unobserve(),i(this,Pe).unobserve(),i(this,Zn).unobserve(),i(this,Zi).unobserve(),i(this,Ke).unobserve(),i(this,Yi).unobserve(),i(this,js).unobserve(),i(this,Ti).unobserve(),i(this,Vn).unobserve(),i(this,Pi).unobserve(),i(this,Oi).unobserve(),tt.unsubscribe(i(this,ka)),O(this,A,Po).call(this)}}z=new WeakMap,On=new WeakMap,Qt=new WeakMap,Ui=new WeakMap,Ls=new WeakMap,Ws=new WeakMap,Vs=new WeakMap,Xe=new WeakMap,xi=new WeakMap,Ai=new WeakMap,Rs=new WeakMap,Gi=new WeakMap,In=new WeakMap,Je=new WeakMap,xt=new WeakMap,_n=new WeakMap,zn=new WeakMap,Hn=new WeakMap,qn=new WeakMap,Zr=new WeakMap,Pe=new WeakMap,Zn=new WeakMap,Zi=new WeakMap,Ke=new WeakMap,Yi=new WeakMap,js=new WeakMap,Ti=new WeakMap,Vn=new WeakMap,Pi=new WeakMap,Oi=new WeakMap,Ii=new WeakMap,H=new WeakMap,kh=new WeakMap,C=new WeakMap,ba=new WeakMap,wa=new WeakMap,ft=new WeakMap,J=new WeakMap,ue=new WeakMap,is=new WeakMap,tn=new WeakMap,ns=new WeakMap,Ht=new WeakMap,qt=new WeakMap,Yr=new WeakMap,_i=new WeakMap,Ds=new WeakMap,Us=new WeakMap,Qi=new WeakMap,Sh=new WeakMap,Xi=new WeakMap,Fs=new WeakMap,$h=new WeakMap,ts=new WeakMap,_t=new WeakMap,A=new WeakSet,To=function(){const e=i(this,Qt).current,t=i(this,Ui).current?"-reverse":"";i(this,H).style.flexDirection=e==="x"?`row${t}`:`column${t}`,i(this,is).axis=i(this,Gi).current?"max":e,i(this,tn).dimension=e==="x"?"width":"height",i(this,ns).axis=e,e==="x"?this.style.touchAction="pan-y":e==="y"&&(this.style.touchAction="pan-x"),i(this,_t)&&i(this,Xt).call(this)},Ch=function(){O(this,A,Kn).call(this),i(this,kh).assignedElements().forEach((e,t)=>{e instanceof HTMLElement&&i(this,C).push(new tp(e,t,this))}),i(this,H).style.transform="",q(this,"scrollSectionsChange",{custom:!0,composed:!0}),i(this,Xt).call(this),O(this,A,Ji).call(this)},Kn=function(){i(this,C).forEach(e=>{e.destroy()}),E(this,C,[]),i(this,qt).reset(),i(this,z).reset(),q(this,"scrollSectionsChange",{custom:!0,composed:!0})},Fa=function(){i(this,Us)||(E(this,Us,!0),i(this,z).unsubscribe(i(this,Mh)),i(this,z).unlistenAnimationFrame(),clearInterval(i(this,Sh)),clearInterval(i(this,Xi)),i(this,Fs).unlistenAnimationFrame(),i(this,is).disconnect(),i(this,tn).disconnect(),i(this,ns).disconnect(),i(this,Ht).disconnect(),i(this,Ds)||(this.sections.forEach(e=>{e.unsetTransform()}),i(this,Xt).call(this)))},Na=function(){i(this,Us)&&(E(this,Us,!1),i(this,z).subscribe(i(this,Mh)),i(this,is).connect(),i(this,tn).connect(),i(this,ns).connect(),i(this,Pe).current&&i(this,Ht).connect())},Po=function(){i(this,Qi)||(E(this,Qi,!0),tt.unsubscribe(i(this,Xt)),me.unsubscribe(i(this,Xt)),O(this,A,Fa).call(this),i(this,H).style.transform="",i(this,H).style.height="",i(this,H).style.width="",this.classList.remove("has-overflow","start","end"),i(this,C).length?O(this,A,Kn).call(this):(i(this,qt).reset(),i(this,z).reset()),Qs.unregister(this))},Oo=function(){i(this,Qi)&&(E(this,Qi,!1),Qs.register(this),(i(this,xt).current||i(this,Vs).current||i(this,xt).current||i(this,Rs).current||i(this,Xe).current)&&O(this,A,Ch).call(this),O(this,A,Na).call(this),tt.subscribe(i(this,Xt),Js.SCROLL),me.subscribe(this,i(this,Xt)))},Xt=new WeakMap,Mh=new WeakMap,su=function(e){let t=i(this,qt).current;return i(this,xt).current?t=Hl(e,i(this,C).length):t=ti(e,0,this.limit),t},Qr=new WeakMap,ya=new WeakMap,Io=function(e=1){i(this,Zi).current&&(i(this,Ht).direction=e),i(this,Pe).current&&i(this,Ht).pauseAndContinue(i(this,Zn).current,this.sectionalCSSProperty.current)},_o=function(e="current"){if(i(this,xt).current&&i(this,C).length){const t=i(this,z)[e]%(i(this,J)+i(this,ft)+i(this,ue));return t<0?i(this,J)+t+i(this,ft)+i(this,ue):t}else return i(this,z)[e]},Ji=function(){if(i(this,C).length){const e=i(this,qt).current+i(this,Yi).current;if(e===0?E(this,ts,"start"):e===this.limit?E(this,ts,"end"):E(this,ts,null),q(this,"scrollLine",{detail:{line:i(this,ts)}}),i(this,Ke).current){this.classList.remove("end","start"),i(this,ts)&&this.classList.add(i(this,ts));const t=i(this,Je).current+i(this,js).current;i(this,C).forEach((s,n)=>{const h=e-this.limit-1+i(this,js).current,a=e+t,o=this.sections.length-a;n>=e&&n<a||n<=h?s.mark("current"):n>=a&&n<a+o/2||n<=h+t?s.mark("next"):s.mark("previous")})}}},Ea=function(){let e=this.targetScrollValue,t=1/0,s=0;const n=i(this,z).direction;for(let h=0;h<i(this,C).length;h++){const a=i(this,C)[h];let o=i(this,$h)?a.size*n*-1*.4:0,p=a.position;const w=Math.abs(p+o-e);w<t&&(t=w,s=h)}return s},ka=new WeakMap;$&&!customElements.get("e-scroll")&&customElements.define("e-scroll",sr);var Sa;class nc extends HTMLElement{constructor(){super(...arguments),u(this,Sa,null)}get scrollElement(){return i(this,Sa)}connectedCallback(){const t=ir(this,sr);t instanceof sr?E(this,Sa,t):console.error(this,"e-scroll not found")}}Sa=new WeakMap;var zi,Zt,xs,As,Xr,Jr,Hi,Kr,$a,Ca;class sp extends nc{constructor(){if(super(),u(this,zi,null),u(this,Zt,null),u(this,xs,!1),u(this,As,0),u(this,Xr,0),u(this,Jr,0),u(this,Hi,()=>{E(this,xs,this.offsetWidth>this.offsetHeight);const t=i(this,xs)?this.offsetWidth:this.offsetHeight;E(this,As,t/((this.scrollElement.scrollSize+this.scrollElement.viewportSize)/t)),E(this,As,Math.max(i(this,As),30)),i(this,xs)?(i(this,Zt).style.width=i(this,As)+"px",i(this,Zt).style.height="100%"):(i(this,Zt).style.width="100%",i(this,Zt).style.height=i(this,As)+"px"),E(this,Xr,t-i(this,As)),this.scrollElement.scrollSize<=0?this.style.display="none":this.style.display="",i(this,Kr).call(this)}),u(this,Kr,()=>{E(this,Jr,this.scrollElement.currentProgress*i(this,Xr)),i(this,xs)?i(this,Zt).style.transform=`translate3d(${i(this,Jr)}px, 0px, 0px)`:i(this,Zt).style.transform=`translate3d(0px, ${i(this,Jr)}px, 0px)`}),u(this,$a,()=>{this.setAttribute("axis",this.scrollElement.axisCSSProperty.current)}),u(this,Ca,t=>{document.documentElement.classList.add("grabbing"),ja(h=>{const a=i(this,xs)?h.x:h.y,o=this.scrollElement.distance/i(this,Xr),p=(a-n)*o;this.scrollElement.setPosition(s+p)},()=>{document.documentElement.classList.remove("grabbing")});const s=this.scrollElement.damped.target,n=i(this,xs)?t.x:t.y}),$){const t=this.attachShadow({mode:"open"});t.adoptedStyleSheets=[Ks({":host":{display:"inline-block",zIndex:"1",backgroundColor:"#ebebeb"},':host([axis="y"])':{position:"absolute",right:"0",top:"0",width:"1vmin",height:"100%"},':host([axis="x"])':{position:"absolute",left:"0",bottom:"0",width:"100%",height:"1vmin"},".default-thumb":{backgroundColor:"var(--thumb-color, black)",borderRadius:"var(--thumb-radius, 0px)",touchAction:"none"},"::slotted(*)":{touchAction:"none"}})],E(this,zi,document.createElement("slot")),i(this,zi).innerHTML='<div class="default-thumb"></div>',t.appendChild(i(this,zi))}}get thumbElement(){return i(this,Zt)}connectedCallback(){super.connectedCallback(),this.setAttribute("drag-dead-zone","");const t=i(this,zi).assignedElements()[0]||i(this,zi).firstElementChild;E(this,Zt,t),i(this,Zt).addEventListener("pointerdown",i(this,Ca)),tt.subscribe(i(this,Hi),Js.SCROLL),me.subscribe(this,i(this,Hi)),me.subscribe(this.scrollElement,i(this,Hi)),this.scrollElement.onScroll(i(this,Kr)),this.scrollElement.axisCSSProperty.subscribe(i(this,$a))}disconnectedCallback(){this.removeAttribute("drag-dead-zone"),this.style.display="",i(this,Zt).removeEventListener("pointerdown",i(this,Ca)),tt.unsubscribe(i(this,Hi)),me.unsubscribe(i(this,Hi)),this.scrollElement.offScroll(i(this,Kr)),this.scrollElement.axisCSSProperty.unsubscribe(i(this,$a))}}zi=new WeakMap,Zt=new WeakMap,xs=new WeakMap,As=new WeakMap,Xr=new WeakMap,Jr=new WeakMap,Hi=new WeakMap,Kr=new WeakMap,$a=new WeakMap,Ca=new WeakMap;$&&!customElements.get("e-scrollbar")&&customElements.define("e-scrollbar",sp);var th,eh,sh;class iu extends nc{constructor(){super(),u(this,th,new b(this,"--behaviour","smooth")),u(this,eh,new b(this,"--tween-easing",!1)),u(this,sh,new b(this,"--tween-duration",0)),$&&this.addEventListener("click",()=>{const t=i(this,th).current,s=i(this,eh).current,n=i(this,sh).current;this.handleClick({behaviour:t,tween:s||n?{easing:s,duration:n}:void 0})})}connectedCallback(){super.connectedCallback(),i(this,th).observe(),i(this,eh).observe(),i(this,sh).observe()}disconnectedCallback(){i(this,th).close(),i(this,eh).close(),i(this,sh).close()}}th=new WeakMap,eh=new WeakMap,sh=new WeakMap;var ih;class ip extends iu{constructor(){super(...arguments),u(this,ih,new b(this,"--set",1))}handleClick(t){this.scrollElement.scrollToSection(i(this,ih).current,t)}connectedCallback(){super.connectedCallback(),i(this,ih).observe()}disconnectedCallback(){super.disconnectedCallback(),i(this,ih).close()}}ih=new WeakMap;$&&!customElements.get("e-scroll-set-button")&&customElements.define("e-scroll-set-button",ip);var Ts,nh;class np extends iu{constructor(){super(...arguments),u(this,Ts,new b(this,"--step",1)),u(this,nh,()=>{this.scrollElement.loopCSSProperty.current?this.removeAttribute("disabled"):i(this,Ts).current>0&&this.scrollElement.scrollLine==="end"||i(this,Ts).current<0&&this.scrollElement.scrollLine==="start"?this.setAttribute("disabled",""):this.removeAttribute("disabled")})}handleClick(t){this.scrollElement.shiftSections(i(this,Ts).current,t)}connectedCallback(){super.connectedCallback(),this.scrollElement&&(i(this,Ts).subscribe(()=>{i(this,nh).call(this)}),i(this,Ts).observe(),this.scrollElement.addEventListener("scrollLine",i(this,nh)),i(this,nh).call(this))}disconnectedCallback(){super.disconnectedCallback(),i(this,Ts).close(),this.removeAttribute("disabled")}}Ts=new WeakMap,nh=new WeakMap;$&&!customElements.get("e-scroll-step-button")&&customElements.define("e-scroll-step-button",np);var Ps,qi,rh,Ma,La,hh;class rp{constructor(t,s,n){u(this,Ps,null),u(this,qi,null),u(this,rh,null),u(this,Ma,null),u(this,La,()=>{i(this,qi).scrollToSection(i(this,rh),{behaviour:i(this,Ma)})}),u(this,hh,()=>{i(this,Ps).classList.toggle("current",i(this,qi).counter.current===i(this,rh))}),$&&(E(this,Ps,document.createElement("button")),E(this,qi,t),E(this,Ma,n),E(this,rh,s),i(this,Ps).addEventListener("click",i(this,La)),i(this,qi).counter.subscribe(i(this,hh)),i(this,hh).call(this))}get element(){return i(this,Ps)}destroy(){i(this,Ps).removeEventListener("click",i(this,La)),i(this,qi).counter.unsubscribe(i(this,hh)),i(this,Ps).remove()}}Ps=new WeakMap,qi=new WeakMap,rh=new WeakMap,Ma=new WeakMap,La=new WeakMap,hh=new WeakMap;var Vi,ah;class hp extends nc{constructor(){super(...arguments),u(this,Vi,[]),u(this,ah,Xs(()=>{i(this,Vi).forEach(t=>t.destroy()),E(this,Vi,[]);for(let t=0;t<this.scrollElement.sections.length;t++){const s=new rp(this.scrollElement,t,this.getAttribute("behaviour")||"smooth");this.appendChild(s.element),i(this,Vi).push(s)}},0))}connectedCallback(){super.connectedCallback(),this.scrollElement.addEventListener("sectionsChange",i(this,ah)),i(this,ah).call(this)}disconnectedCallback(){this.scrollElement.removeEventListener("sectionsChange",i(this,ah)),i(this,Vi).forEach(t=>t.destroy()),E(this,Vi,[])}}Vi=new WeakMap,ah=new WeakMap;$&&!customElements.get("e-scroll-bullet-buttons")&&customElements.define("e-scroll-bullet-buttons",hp);class ap extends tu{connectedCallback(){const t=ir(this,sr);t instanceof sr?(this.scrollContainer=t,this.scrollContainer.addEventListener("scrollSectionsChange",this.findAnotherScrollEntries)):console.error(this,"e-scroll not found")}}$&&!customElements.get("e-scroll-segment")&&customElements.define("e-scroll-segment",ap);function op(e){return e==null?null:e?isNaN(Number(e))?e==="true"?!0:e==="false"?!1:e:Number(e):!0}var nu=e=>{throw TypeError(e)},rc=(e,t,s)=>t.has(e)||nu("Cannot "+s),Te=(e,t,s)=>(rc(e,t,"read from private field"),s?s.call(e):t.get(e)),pr=(e,t,s)=>t.has(e)?nu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),mr=(e,t,s,n)=>(rc(e,t,"write to private field"),t.set(e,s),s),Yc=(e,t,s)=>(rc(e,t,"access private method"),s),Yn,Qn,oh,Rn,Wa,zo;let Qc=class extends st{constructor(t,s,n,h){super(n,h),pr(this,Wa),pr(this,Yn,null),pr(this,Qn),pr(this,oh,null),pr(this,Rn,!1),mr(this,Qn,s),$&&(mr(this,Yn,ze(t)),mr(this,oh,new MutationObserver(a=>{a.forEach(o=>{o.type==="attributes"&&o.attributeName===Te(this,Qn)&&Yc(this,Wa,zo).call(this)})})),h!=null&&h.sync&&this.subscribe(a=>{Te(this,Yn).setAttribute(Te(this,Qn),a.current.toString())}))}subscribe(t){return this.subscribers.size||this.observe(),super.subscribe(t)}unsubscribe(t){super.unsubscribe(t),this.subscribers.size||this.unobserve()}observe(){Te(this,Rn)||(mr(this,Rn,!0),Te(this,oh).observe(Te(this,Yn),{attributes:!0}),Yc(this,Wa,zo).call(this))}unobserve(){Te(this,Rn)&&(mr(this,Rn,!1),Te(this,oh).disconnect())}close(){super.close(),this.unobserve()}};Yn=new WeakMap,Qn=new WeakMap,oh=new WeakMap,Rn=new WeakMap,Wa=new WeakSet,zo=function(){const e=Te(this,Yn).getAttribute(Te(this,Qn));e!=null&&(this.current=op(e))};var ru=e=>{throw TypeError(e)},hc=(e,t,s)=>t.has(e)||ru("Cannot "+s),y=(e,t,s)=>(hc(e,t,"read from private field"),s?s.call(e):t.get(e)),At=(e,t,s)=>t.has(e)?ru("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),de=(e,t,s,n)=>(hc(e,t,"write to private field"),t.set(e,s),s),ui=(e,t,s)=>(hc(e,t,"access private method"),s),Gs,Lt,Ri,vt,Di,Os,ce,Ho,xa,Aa,Dn,qo;class Xc{constructor(t,s){At(this,ce),At(this,Gs,null),At(this,Lt,null),At(this,Ri,null),At(this,vt,null),At(this,Di),At(this,Os,!1),At(this,xa,()=>{y(this,Os)?this.close():this.open()}),At(this,Aa,()=>{y(this,Os)&&(ui(this,ce,Dn).call(this,0,!0),ui(this,ce,Dn).call(this,y(this,ce,Ho)))}),s.firstElementChild instanceof HTMLElement&&s.lastElementChild instanceof HTMLElement?(de(this,Gs,t),de(this,Lt,s),de(this,Ri,s.firstElementChild),de(this,vt,s.lastElementChild),y(this,vt).style.overflow="hidden",y(this,Gs).axisAttribute.current==="y"?y(this,vt).style.height="0px":y(this,vt).style.width="0px",addEventListener("resize",y(this,Aa)),y(this,Ri).addEventListener("click",y(this,xa)),y(this,Lt).hasAttribute("data-opened")&&this.open({skipTransition:!0})):t.removeItem(y(this,Lt))}get element(){return y(this,Lt)}destroy(){y(this,Ri)&&(y(this,Lt).classList.remove("opened","triggered"),y(this,Lt).removeAttribute("data-opened"),y(this,Ri).style.cursor="",ui(this,ce,Dn).call(this,void 0),removeEventListener("resize",y(this,Aa)),y(this,Ri).removeEventListener("click",y(this,xa)),clearTimeout(y(this,Di)))}open(t){t!=null&&t.skipTransition&&ui(this,ce,qo).call(this),y(this,Gs).multipleAttribute.current||y(this,Gs).closeAll({exclude:y(this,Lt)}),de(this,Os,!0),clearTimeout(y(this,Di)),y(this,Lt).classList.add("triggered"),ui(this,ce,Dn).call(this,y(this,ce,Ho)),setTimeout(()=>{y(this,Lt).classList.add("opened"),y(this,Lt).setAttribute("data-opened",""),de(this,Di,setTimeout(()=>{window.dispatchEvent(new Event("resize"))},Eo(y(this,vt))))},0),q(this.element,"accordionItemToggle",{bubbles:!0,composed:!0,detail:{opened:y(this,Os)}})}close(t){t!=null&&t.skipTransition&&ui(this,ce,qo).call(this),clearTimeout(y(this,Di)),de(this,Os,!1),y(this,Lt).classList.remove("opened"),ui(this,ce,Dn).call(this,0),de(this,Di,setTimeout(()=>{y(this,Lt).classList.remove("triggered"),window.dispatchEvent(new Event("resize"))},Eo(y(this,vt)))),q(this.element,"accordionItemToggle",{bubbles:!0,composed:!0,detail:{opened:y(this,Os)}})}}Gs=new WeakMap,Lt=new WeakMap,Ri=new WeakMap,vt=new WeakMap,Di=new WeakMap,Os=new WeakMap,ce=new WeakSet,Ho=function(){return y(this,Gs).axisAttribute.current==="x"?y(this,vt).scrollWidth:y(this,vt).scrollHeight},xa=new WeakMap,Aa=new WeakMap,Dn=function(e,t=!1){t&&(y(this,vt).style.transition="all 0s",setTimeout(()=>{y(this,vt).style.transition=""}));const s=y(this,Gs).axisAttribute.current==="x"?"width":"height";e!=null?y(this,vt).style[s]=`${e}px`:y(this,vt).style[s]=""},qo=function(){y(this,vt).style.transition="all 0s",setTimeout(()=>{y(this,vt).style.transition=""},50)};var ch,lh,Ge,uh,Ta,Vo;let cp=class extends HTMLElement{constructor(){super(),At(this,Ta),At(this,ch,new Qc(this,"axis","y")),At(this,lh,new Qc(this,"multiple",!1)),At(this,Ge,[]),At(this,uh,null),$&&de(this,uh,new MutationObserver(t=>{t.forEach(s=>{s.removedNodes.forEach(n=>{n instanceof HTMLElement&&this.removeItem(n)}),s.addedNodes.forEach(n=>{n instanceof HTMLElement&&this.createItem(n)})})}))}get axisAttribute(){return y(this,ch)}get multipleAttribute(){return y(this,lh)}createItem(t){y(this,Ge).find(s=>s.element===t)||y(this,Ge).push(new Xc(this,t))}removeItem(t){de(this,Ge,y(this,Ge).filter(s=>{if(s.element!==t)return!0;s.destroy()}))}closeAll(t){y(this,Ge).forEach(s=>{t?.exclude!==s.element&&s.close(t)})}openAll(t){y(this,Ge).forEach(s=>{t?.exclude!==s.element&&s.open(t)})}connectedCallback(){y(this,ch).observe(),y(this,lh).observe(),y(this,uh).observe(y(this,Ta,Vo),{childList:!0}),de(this,Ge,[...y(this,Ta,Vo).children].map(t=>{if(t instanceof HTMLElement)return new Xc(this,t)}).filter(t=>!!t))}disconnectedCallback(){y(this,ch).unobserve(),y(this,lh).unobserve(),y(this,uh).disconnect()}};ch=new WeakMap,lh=new WeakMap,Ge=new WeakMap,uh=new WeakMap,Ta=new WeakSet,Vo=function(){return this.shadowRoot?this.shadowRoot:this};$&&!customElements.get("e-accordion")&&customElements.define("e-accordion",cp);var hu=e=>{throw TypeError(e)},ac=(e,t,s)=>t.has(e)||hu("Cannot "+s),k=(e,t,s)=>(ac(e,t,"read from private field"),s?s.call(e):t.get(e)),Et=(e,t,s)=>t.has(e)?hu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),Zs=(e,t,s,n)=>(ac(e,t,"write to private field"),t.set(e,s),s),ys=(e,t,s)=>(ac(e,t,"access private method"),s),Ki,Fi,Fn,rs,Ys,xe,Ro,Pa,dh,Do,Oa,Fo;class oc extends HTMLElement{constructor(){super(...arguments),Et(this,xe),Et(this,Ki,new b(this,"--autoplay",!1)),Et(this,Fi),Et(this,Fn,!1),Et(this,rs,[]),Et(this,Ys,0),Et(this,dh,t=>{Zs(this,Fn,t.isIntersecting),k(this,Fn)?ys(this,xe,Pa).call(this):clearInterval(k(this,Fi))}),Et(this,Do,()=>{clearInterval(k(this,Fi)),k(this,Fn)&&Zs(this,Fi,setInterval(k(this,Fo),parseFloat(k(this,Ki).current||"0")*1e3))}),Et(this,Fo,()=>{ys(this,xe,Oa).call(this,k(this,Ys)+1)})}get counter(){return k(this,Ys)}get itemElements(){return k(this,rs)}addItem(t){k(this,rs).push(t),ys(this,xe,Ro).call(this)}set(t){ys(this,xe,Oa).call(this,t),ys(this,xe,Pa).call(this)}shift(t){this.set(k(this,Ys)+t)}connectedCallback(){var t;Zs(this,rs,[...this.querySelectorAll("[data-billboard-item]")]),(t=k(this,rs)[0])==null||t.classList.add("current"),ys(this,xe,Ro).call(this),k(this,Ki).subscribe(s=>{s.current?(Ya.subscribe(this,k(this,dh)),ys(this,xe,Pa).call(this)):(Zs(this,Fn,!0),Ya.unsubscribe(k(this,dh)),clearInterval(k(this,Fi)),ys(this,xe,Oa).call(this,0))}),k(this,Ki).observe()}disconnectedCallback(){k(this,Ki).unobserve(),Ya.unsubscribe(k(this,dh)),clearInterval(k(this,Fi))}}Ki=new WeakMap,Fi=new WeakMap,Fn=new WeakMap,rs=new WeakMap,Ys=new WeakMap,xe=new WeakSet,Ro=function(){k(this,rs).length>1?this.classList.add("has-length"):this.classList.remove("has-length")},Pa=function(){k(this,Ki).current!==!1&&k(this,Do).call(this)},dh=new WeakMap,Do=new WeakMap,Oa=function(e){Zs(this,Ys,Hl(e,k(this,rs).length)),k(this,rs).forEach((t,s)=>{s===k(this,Ys)?t.classList.add("current"):t.classList.remove("current")}),q(this,"billboardChange",{detail:{counter:k(this,Ys)}})},Fo=new WeakMap;customElements.get("e-billboard")||customElements.define("e-billboard",oc);var Ze,Is,Ia,ph;class lp extends HTMLElement{constructor(){super(...arguments),Et(this,Ze,null),Et(this,Is,[]),Et(this,Ia,t=>{const s=t.currentTarget,n=k(this,Is).findIndex(h=>h===s);n>=0&&k(this,Ze).set(n)}),Et(this,ph,()=>{k(this,Is).forEach((t,s)=>{s===k(this,Ze).counter?t.classList.add("current"):t.classList.remove("current")})})}connectedCallback(){Zs(this,Ze,ir(this,oc)),k(this,Ze)&&customElements.whenDefined("e-billboard").then(()=>{var t;if(this.isConnected){const s=k(this,Ze).itemElements.length;for(let n=0;n<s;n++){const h=document.createElement("button");k(this,Is).push(h),this.appendChild(h)}k(this,Is).forEach(n=>{n.addEventListener("click",k(this,Ia))}),(t=k(this,Ze))==null||t.addEventListener("billboardChange",k(this,ph)),k(this,ph).call(this)}})}disconnectedCallback(){var t;k(this,Is).forEach(s=>{s.removeEventListener("click",k(this,Ia))}),(t=k(this,Ze))==null||t.removeEventListener("billboardChange",k(this,ph)),this.innerHTML="",Zs(this,Is,[])}}Ze=new WeakMap,Is=new WeakMap,Ia=new WeakMap,ph=new WeakMap;$&&!customElements.get("e-billboard-bullets")&&customElements.define("e-billboard-bullets",lp);var mh,fh;class up extends HTMLElement{constructor(){super(),Et(this,mh,new b(this,"--step",1)),Et(this,fh,null),this.addEventListener("click",()=>{k(this,fh)&&k(this,fh).shift(k(this,mh).current)})}connectedCallback(){this.tabIndex=0,Zs(this,fh,ir(this,oc)),k(this,mh).observe()}disconnectedCallback(){this.removeAttribute("tabindex"),k(this,mh).unobserve()}}mh=new WeakMap,fh=new WeakMap;$&&!customElements.get("e-billboard-step-button")&&customElements.define("e-billboard-step-button",up);var au=e=>{throw TypeError(e)},cc=(e,t,s)=>t.has(e)||au("Cannot "+s),_s=(e,t,s)=>(cc(e,t,"read from private field"),t.get(e)),fr=(e,t,s)=>t.has(e)?au("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),Jc=(e,t,s,n)=>(cc(e,t,"write to private field"),t.set(e,s),s),Kc=(e,t,s)=>(cc(e,t,"access private method"),s),Xn,_a,vh,No,za,Bo;class dp extends HTMLElement{constructor(){super(),fr(this,za),fr(this,Xn,new b(this,"--columns",2)),fr(this,_a,[]),fr(this,vh,null),fr(this,No,()=>{Kc(this,za,Bo).call(this)});const t=this.attachShadow({mode:"open"});t.adoptedStyleSheets=[Ks({":host":{display:"grid",gridTemplateColumns:"repeat(var(--columns), 1fr)"},".column":{display:"grid",width:"100%",gap:"var(--gap, 0rem)",gridAutoRows:"max-content"}})]}connectedCallback(){Jc(this,vh,new MutationObserver(_s(this,No))),_s(this,vh).observe(this,{childList:!0}),_s(this,Xn).subscribe(t=>{var s;this.shadowRoot.innerHTML="",Jc(this,_a,[]);for(let n=0;n<t.current;n++){const h=document.createElement("div");h.classList.add("column"),h.innerHTML=`<slot name="col-${n}"></slot>`,_s(this,_a).push(h),(s=this.shadowRoot)==null||s.appendChild(h)}Kc(this,za,Bo).call(this)}),_s(this,Xn).observe()}disconnectedCallback(){_s(this,Xn).close(),_s(this,vh).disconnect(),this.classList.remove("distributed")}}Xn=new WeakMap,_a=new WeakMap,vh=new WeakMap,No=new WeakMap,za=new WeakSet,Bo=function(){[...this.children].forEach((e,t)=>{e.slot=`col-${t%_s(this,Xn).current}`}),this.classList.add("distributed")};$&&!customElements.get("e-masonry-layout")&&customElements.define("e-masonry-layout",dp);function pp(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}class Ba extends HTMLElement{static __loaded=!1;static __setLoaded=Xs(()=>{this.__loaded=!0},50);#t=null;#e=new b(this,"--start-offset",0,{rawValueCheck:!1});#s=new b(this,"--distance",0,{rawValueCheck:!1});#n=new b(this,"--distance-offset",0,{rawValueCheck:!1});#i=new b(this,"--progress-var","");#r=new b(this,"--capture-once",!0);#a=0;#h=0;#o=0;#l=0;#u=0;#c=0;#d=!1;#p=!1;#m=!1;get scrollElement(){return this.#t}get start(){return this.#h}get finish(){return this.#o}get distance(){return this.#l}get passed(){return this.#u}get progress(){return this.#c}get isCaptured(){return this.#p}resetCaptured(){this.#p=!1,this.classList.remove("captured")}connectedCallback(){const t=this.closest("[data-morph]"),s=parseFloat(getComputedStyle(t).getPropertyValue("--morph-duration")||"0")*1e3;this.#t=Wh(this),setTimeout(()=>{this.#t&&(me.subscribe(this,this.#f),tt.subscribe(this.#f),this.#t.addEventListener("scroll",this.#v),this.#i.subscribe(n=>{n.current?this.#v():n.previous&&this.style.removeProperty(this.#g(n.previous))}),this.#s.subscribe(()=>{this.#f()}),this.#e.observe(),this.#s.observe(),this.#n.observe(),this.#i.observe(),this.#r.observe())},Ba.__loaded?s/4:500),Ba.__setLoaded()}disconnectedCallback(){this.#t&&(me.unsubscribe(this.#f),tt.unsubscribe(this.#f),this.#t.removeEventListener("scroll",this.#v),this.#e.close(),this.#s.close(),this.#n.close(),this.#i.close(),this.#r.close(),this.classList.remove("captured"),this.#i.current&&this.style.removeProperty(this.#g(this.#i.current)))}#f=()=>{this.#m=this.#t.scrollWidth>this.#t.clientWidth,this.#a=this.#m?Lh(this):tr(this),this.#h=this.#a,this.#h+=this.#e.current,this.#h-=al(this,this.#m?"left":"top"),this.#o=this.#h,this.#s.current?this.#o+=this.#s.current:this.#o+=this.#m?this.offsetWidth:this.offsetHeight,this.#o+=this.#n.current,this.#l=this.#o-this.#h,this.#d=this.offsetWidth!==0&&this.offsetHeight!==0,this.#v()};#v=()=>{const t=this.#m?this.#t.offsetLeft:this.#t.scrollTop;this.#u=ti(t-this.#h,0,this.#l),this.#c=this.#u/this.#l,this.#i.current&&this.style.setProperty(this.#g(this.#i.current),this.#c.toFixed(6)),this.#d&&!this.#p&&t>=this.#h?(this.#p=!0,this.classList.add("captured")):this.#d&&!this.#r.current&&this.#p&&t<this.#h&&(this.#p=!1,this.classList.remove("captured")),q(this,"segmentPass",{detail:{progress:this.#c,passed:this.#u}})};#g(t){return`--${t}`}}customElements.get("e-segment")||customElements.define("e-segment",Ba);class mp extends HTMLElement{#t=null;#e;updateImage(t,s){this.#t&&(this.#t.srcset=t,this.#t.alt=s||"")}connectedCallback(){if(this.#t=this.querySelector("img"),this.#t){const t=this.#t.getAttribute("src")||this.#t.getAttribute("srcset");this.#t.complete?t&&setTimeout(()=>{this.#s()},20):this.#t.onload=this.#s}}disconnectedCallback(){this.#t&&(this.#t.onload=null),this.classList.remove("loaded","clear"),clearTimeout(this.#e)}#s=()=>{this.isConnected&&(this.classList.add("loaded"),this.#e=setTimeout(()=>{this.classList.add("clear")},(parseFloat(getComputedStyle(this).getPropertyValue("--clear-duration")||"0")||0)*1e3),this.dispatchEvent(new Event("load")))}}customElements.get("image-cloak")||customElements.define("image-cloak",mp);class fp extends HTMLElement{#t=[];#e;#s=null;#n="";get value(){return this.#e}get input(){return this.#s}get name(){return this.#n}changeValue(t){const s=this.#t.find(n=>n.value===t);s&&s.value!==this.#e&&(s.checked=!0,this.#i())}connectedCallback(){this.#t=[...this.querySelectorAll("input")],this.hasAttribute("name")?this.#n=this.getAttribute("name"):this.#n=this.#t[0]?.name||"",this.#t.forEach(t=>{t.name=this.#n}),this.#r(),this.#t.forEach(t=>{t.addEventListener("change",this.#i)})}disconnectedCallback(){this.#t.forEach(t=>{t.removeEventListener("change",this.#i)})}#i=()=>{this.#r(),q(this,"inputGroupValueChange",{custom:!0,detail:this.#e})};#r(){const t=this.#t.find(s=>s.checked);t?(this.#s=t,this.#e=t.value.trim()):this.#e=void 0}}customElements.get("e-input-group")||customElements.define("e-input-group",fp);class vp extends HTMLElement{#t=null;#e=10;#s=1;#n=[];#i=[];get visibleItemElements(){return this.#i}connectedCallback(){this.#e=parseInt(this.getAttribute("items-per-page")||"10"),this.#t=document.querySelector("[data-more-button]"),this.#t?.addEventListener("click",this.#r),this.#n=[...this.querySelectorAll("[data-item]")],this.#i=this.#n.filter(t=>t.getAttribute("aria-hidden")!=="true"),this.#s=Math.ceil(this.#i.length/this.#e)||1,this.#a()}disconnectedCallback(){this.#t?.removeEventListener("click",this.#r)}#r=()=>{this.#s++,this.#a()};#a(){const t=this.#s*this.#e;this.#i=this.#n.filter((s,n)=>{s.ariaHidden="false";let h=0;return n>=t&&h++,h?s.ariaHidden="true":s.ariaHidden="false",h===0}),this.#t&&(!this.#i.length||this.#i.length===this.#n.length||t>this.#i.length?this.#t.ariaHidden="true":this.#t.ariaHidden="false"),q(this,"portionalItemsChange",{custom:!0}),window.dispatchEvent(new Event("resize"))}}customElements.get("e-portional")||customElements.define("e-portional",vp);class lc extends Ah{#t=new b(this,"--swipe-enabled",!1);#e=null;#s=null;#n=new tc(0,{min:0});constructor(){super(),this.addEventListener("popoverClosed",()=>{this.#n.set(0,{equalize:!0})})}connectedCallback(){super.connectedCallback(),this.#e=this.querySelector("[data-swipe-knob]"),this.#s=this.querySelector("[data-swipe]"),this.#e=this.#e||this.#s,this.#s&&this.#e&&(this.#n.subscribe(t=>{this.#s.style.transform=`translateY(${t.current}px)`}),this.#e.addEventListener("pointerdown",this.#i)),this.#t.subscribe(t=>{this.#s&&this.#e&&(t.current?this.#e.style.touchAction="pan-x":(this.#e.style.touchAction="",this.#s.style.transform=""))}),this.#t.observe()}disconnectedCallback(){super.disconnectedCallback(),this.#n.close(),this.#t.close(),this.#e?.removeEventListener("pointerdown",this.#i)}#i=t=>{if(!this.#t.current)return;let s=0;ja(n=>{n.preventDefault(),n.stopPropagation(),s=n.y-t.y,this.#n.set(s,{mass:0,stiffness:0,damping:50})},()=>{s>60?this.close():this.#n.set(0,{damping:20})})}}customElements.get("e-swipe-popover")||customElements.define("e-swipe-popover",lc);class ou extends HTMLElement{#t=[];#e;#s=null;get value(){return this.#e}get name(){return this.getAttribute("name")}get buttonElement(){return this.#s}setValue(t){t&&t!==this.#e&&(this.#e=t,this.#t.forEach(s=>{s.getAttribute("data-value")===this.#e?(s.setAttribute("data-checked",""),this.#s=s):s.removeAttribute("data-checked")}),q(this,"toggleChange",{detail:this.#e,bubbles:!0}))}connectedCallback(){this.#t=[...this.querySelectorAll("button")],document.readyState==="complete"?this.#n():addEventListener("load",this.#n)}disconnectedCallback(){this.#t.forEach(t=>{t.removeEventListener("click",this.#i)}),removeEventListener("load",this.#n),document.documentElement.removeEventListener("toggleChange",this.#r)}#n=()=>{this.isConnected&&(document.documentElement.addEventListener("toggleChange",this.#r),this.#t.forEach(t=>{t.addEventListener("click",this.#i),t.hasAttribute("data-checked")&&this.setValue(t.getAttribute("data-value"))}))};#i=t=>{const n=t.currentTarget.getAttribute("data-value");n&&this.setValue(n)};#r=t=>{const s=t.target;s!==this&&s.name===this.name&&this.setValue(t.detail)}}customElements.get("e-toggle")||customElements.define("e-toggle",ou);class gp extends Xo{#t=null;#e=null;connectedCallback(){super.connectedCallback(),this.#t=this.querySelector("input"),this.#e=this.querySelector(".address-input__value"),T.subscribeToAddress(this.#s)}disconnectedCallback(){super.disconnectedCallback(),T.unsubscribeFromAddress(this.#s)}#s=()=>{this.classList.toggle("filled",!!T.address),this.#t&&(this.#t.value=T.address),this.#e&&(this.#e.textContent=T.address||this.#t?.name||""),this.#t?.dispatchEvent(new Event("change"))}}customElements.get("e-address-input")||customElements.define("e-address-input",gp);class bp extends Xo{#t=null;#e=0;set(t){this.#e=ti(t,0,1/0),this.#t&&(t?(this.#t.textContent=t.toString(),this.classList.add("has-items")):(this.classList.remove("has-items"),this.#t.textContent=""))}shift(t){this.set(this.#e+t)}connectedCallback(){super.connectedCallback(),this.#t=this.querySelector(".basket-button__value"),x.subscribe(this.#s)}disconnectedCallback(){super.disconnectedCallback(),x.unsubscribe(this.#s)}#s=()=>{this.set(x.fullAmount)}}customElements.get("e-basket-button")||customElements.define("e-basket-button",bp);const wp=Ks({":host":{position:"relative",width:"100%",display:"grid",gridTemplateColumns:"max-content 1fr",gridTemplateRows:"max-content max-content",gridTemplateAreas:`
      "image content"
      "image bottom";
    `,gap:"1.6rem 2.4rem",padding:"1.6rem !important",border:"0.1rem solid var(--color-secondary-1)",borderRadius:"var(--border-radius-2)",backgroundColor:"var(--color-secondary-2)"},".remove-button":{position:"absolute",right:"1.6rem",top:"1.6rem",width:"2.4rem",height:"2.4rem",background:"none",border:"none",padding:"0",cursor:"pointer"},".remove-button__icon":{width:"100%",height:"100%",fill:"var(--color-secondary-3)"},".image":{gridArea:"image",width:"12rem",height:"12rem",borderRadius:"var(--border-radius-1)",objectFit:"cover"},".content":{gridArea:"content",boxSizing:"border-box",paddingRight:"3.2rem"},".name":{fontSize:"1.8rem",fontWeight:"600",lineHeight:"120%",marginBottom:"0.4rem"},".description":{fontSize:"1.6rem",fontWeight:"400",lineHeight:"120%"},".bottom":{gridArea:"bottom",boxSizing:"border-box",paddingRight:"3.2rem",width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},".price":{fontSize:"1.8rem",fontWeight:"600",lineHeight:"120%"},"@media(max-width: 768px)":{":host":{gridTemplateAreas:`
        "image content"
        "bottom bottom";
      `,gap:"0.8rem",padding:"0.8rem !important"},".remove-button":{right:"0.8rem",top:"0.8rem",width:"1.6rem",height:"1.6rem"},".content":{paddingRight:"2.4rem"},".image":{width:"6rem",height:"5rem"},".name":{fontSize:"1.2rem",marginBottom:"0.2rem"},".description":{fontSize:"1.2rem"},".bottom":{flexDirection:"row-reverse",paddingRight:"0",paddingTop:"0.8rem",borderTop:"0.1rem solid var(--color-secondary-1)"},".price":{fontSize:"1.6rem"}}});class yp extends HTMLElement{#t;#e;#s;#n;#i;#r;#a="unknown";#h=0;constructor(){super();const t=this.attachShadow({mode:"open"});t.adoptedStyleSheets=[...t.adoptedStyleSheets,wp],t.innerHTML=`
        <button class="remove-button">
          <svg class="remove-button__icon">
            <use xlink:href='/sprite.svg#sprite:close'></use>
          </svg>
        </button>

        <img class="image">
        <div class="content">
          <div class="name"></div>
          <div class="description"></div>
        </div>
        <div class="bottom">
          <e-product-button size="big"></e-product-button>
          <div class="price"></div>
        </div>
      `,this.#t=t.querySelector(".remove-button"),this.#e=t.querySelector(".image"),this.#s=t.querySelector(".name"),this.#n=t.querySelector(".description"),this.#i=t.querySelector("e-product-button"),this.#r=t.querySelector(".price"),this.#t.addEventListener("click",()=>{x.removeItem(this.pid)}),this.#i.addEventListener("productButtonCounterChange",s=>{s.detail.counter?(x.updateItem(this.#a,s.detail.counter),this.#r.textContent=_e(this.totalPrice)):(x.removeItem(this.#a),this.#r.textContent="")})}get pid(){return this.#a}get productButtonElement(){return this.#i}get totalPrice(){return this.#h*this.#i.counter}connectedCallback(){const t=this.getAttribute("pid")||"unknown",s=this.getAttribute("name")||"",n=this.getAttribute("image")||"",h=this.getAttribute("description")||"",a=parseInt(this.getAttribute("price")||"0")||0,o=parseInt(this.getAttribute("amount")||"1")||1;this.#a=t,this.#h=a,this.#s.textContent=s,this.#e.srcset=n,this.#n.textContent=h,customElements.whenDefined("e-product-button").then(()=>{this.isConnected&&(this.#i.set(o),this.#i.setPlaceholder(_e(a)))}),this.removeAttribute("pid"),this.removeAttribute("name"),this.removeAttribute("image"),this.removeAttribute("description"),this.removeAttribute("price"),this.removeAttribute("amount"),this.setAttribute("data-popover-content","")}}customElements.get("e-basket-item")||customElements.define("e-basket-item",yp);const Ep=Ks({":host":{position:"relative",display:"inline-flex",gap:"1rem"},".side":{boxSizing:"border-box",width:"45rem",minHeight:"42rem",padding:"3rem",borderRadius:"var(--border-radius-2)",backgroundColor:"var(--color-secondary-2)"},".month":{},".head":{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"3rem"},".arrow":{flexShrink:"0",fontFamily:"inherit",border:"none",background:"none",color:"inherit",padding:"0",cursor:"pointer",width:"2.4rem",height:"2.4rem"},".arrow svg":{width:"100%",height:"100%",fill:"var(--color-primary-2)"},".arrow-left":{transform:"scaleX(-1)"},":host(.current-month) .arrow-left":{opacity:.4,pointerEvents:"none"},".month-name":{fontSize:"2.4rem",fontWeight:"600"},".arrow-right":{},".days":{"--gap":"0.375rem 1.833rem"},".days-names":{display:" grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"var(--gap)",color:"var(--color-secondary-3)"},".days-list":{display:" grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"var(--gap)"},".day":{fontSize:"1.8rem",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",width:"4rem",height:"4rem",cursor:"pointer"},".day.picked":{color:"var(--color-secondary-6)"},".day.inactive":{color:"var(--color-secondary-3)",pointerEvents:"none"},".hours":{display:"grid",gridTemplateColumns:"repeat(3,1fr)"},".hour":{fontSize:"1.8rem",fontWeight:"600",cursor:"pointer"},".hour.picked":{color:"var(--color-primary-3)"},".hour.inactive":{color:"var(--color-secondary-3)",pointerEvents:"none"},"@media (max-width: 768px)":{":host":{width:"100%",flexDirection:"column",gap:"0.8rem"},".side":{width:"100%",minHeight:"28rem",padding:"1.6rem"},".month-name":{fontSize:"1.8rem"},".head":{marginBottom:"1.6rem"},".days":{"--gap":"0.375rem 1.833rem"},".day":{fontSize:"1.4rem",width:"3rem",height:"3rem"},".hour":{fontSize:"1.4rem"}}});class kp extends HTMLElement{#t=0;#e=new Date;#s=this.#e.getFullYear();#n=this.#e.getMonth();#i;#r;#a;#h;#o;#l=[];#u=[];#c={day:1,month:1,year:1,hours:""};constructor(){super();const t=this.attachShadow({mode:"open"});t.adoptedStyleSheets=[...t.adoptedStyleSheets,Ep],t.innerHTML=`
        <div class="side month">
          <div class="head">
            <button class="arrow arrow-left">
              <svg><use xlink:href="/sprite.svg#sprite:tailless-arrow"></svg>
            </button>
            <div class="month-name"></div>
            <button class="arrow arrow-right">
              <svg><use xlink:href="/sprite.svg#sprite:tailless-arrow"></svg>
            </button>
            </button>
          </div>
          <div class="days">
            <div class="days-names">
              <div class="day">Пн.</div>
              <div class="day">Вт.</div>
              <div class="day">Ср.</div>
              <div class="day">Чт.</div>
              <div class="day">Вт.</div>
              <div class="day">Сб.</div>
              <div class="day">Вс.</div>
            </div>
            <div class="days-list"></div>
          </div>
        </div>
        <div class="side hours"></div>
      `,this.#i=t.querySelector(".month-name"),this.#r=t.querySelector(".arrow-left"),this.#a=t.querySelector(".arrow-right"),this.#h=t.querySelector(".days-list"),this.#o=t.querySelector(".hours"),this.#t=this.#n,this.#r.addEventListener("click",()=>{this.shiftMonth(-1)}),this.#a.addEventListener("click",()=>{this.shiftMonth(1)}),this.#p(),this.#d()}get pickedDate(){return this.#c}setMonth(t){this.#t=ti(t,this.#n,1/0),this.#d()}shiftMonth(t){this.setMonth(this.#t+t)}#d(){let t=this.#t;const s=this.#s+Math.floor(t/12);t=t%12,t=t<0?12+t:t;const n=new Date(s,t,1),h=n.toLocaleString("default",{month:"long"}),a=new Date(s,t+1,0).getDate(),o=(n.getDay()+6)%7;this.#i.textContent=`${ju(h)} ${s}`;const p=[];let w=0;for(let v=0;v<a+o;v++){const Z=document.createElement("div");if(Z.className="day",v>=o){const ei=v-o+1,Vt=ei.toString();new Date(s,t,ei+1).getTime()<this.#e.getTime()?Z.classList.add("inactive"):w||(w=ei),Z.textContent=Vt,Z.setAttribute("data-value",Vt)}p.push(Z)}this.#h.innerHTML="",this.#h.append(...p),this.#l.forEach(v=>{v.removeEventListener("click",this.#v)}),this.#l=p,this.#l.forEach(v=>{v.addEventListener("click",this.#v)}),this.classList.toggle("current-month",this.#t===this.#n),this.#c.month=n.getMonth()+1,this.#c.year=n.getFullYear(),this.#g(w),this.#m()}#p(){const t=this.getAttribute("hours-start")||"10:00",s=this.getAttribute("hours-end")||"22:00",n=this.#E(t,s);this.#u.forEach(h=>{h.removeEventListener("click",this.#w)}),this.#u=[],n.forEach(h=>{const a=document.createElement("div");a.className="hour",a.textContent=h,a.setAttribute("data-value",h),this.#u.push(a)}),this.#o.append(...this.#u),this.#u.forEach(h=>{h.addEventListener("click",this.#w)})}#m(){const t=this.#u[this.#u.length-1],s=new Date;t&&this.#u.forEach(h=>{const a=this.#f(h);new Date(this.#c.year,this.#c.month-1,this.#c.day,a?.hours,a?.minutes).getTime()<=s.getTime()?h.classList.add("inactive"):h.classList.remove("inactive")});const n=this.#u.find(h=>!h.classList.contains("inactive"));n&&this.#y(n.getAttribute("data-value"))}#f(t){const s=t.getAttribute("data-value");if(s){const[n]=s.split(" - ");if(n)return this.#b(n)}return null}#v=t=>{const s=t.currentTarget;this.#g(parseInt(s.getAttribute("data-value")))};#g(t){this.#c.day=t,this.#l.forEach(s=>{s.getAttribute("data-value")===t.toString()?s.classList.add("picked"):s.classList.remove("picked")}),q(this,"calendarPick",{detail:this.#c})}#w=t=>{const s=t.currentTarget;this.#y(s.getAttribute("data-value"))};#y(t){this.#c.hours=t,this.#u.forEach(s=>{s.getAttribute("data-value")===t.toString()?s.classList.add("picked"):s.classList.remove("picked")}),q(this,"calendarPick",{detail:this.#c})}#b(t){const[s,n]=t.split(":").map(Number),h={hours:s||0,minutes:n||0,combined:0};return h.combined=h.hours*60+h.minutes,h}#E(t,s){const n=this.#b(t).combined;let h=this.#b(s).combined;h<=n&&(h+=1440);const a=[];for(let p=n;p<h;p+=30){const w=o(p),v=o(p+30);a.push(`${w} - ${v}`)}return a;function o(p){const w=p%1440,v=Math.floor(w/60),Z=w%60;return`${String(v).padStart(2,"0")}:${String(Z).padStart(2,"0")}`}}}customElements.get("e-calendar")||customElements.define("e-calendar",kp);class Sp extends HTMLElement{#t=null;#e=null;#s=null;#n=null;#i=null;#r=!1;#a="/test";#h=!1;#o=!1;#l;get result(){return this.#l}checkValidity(){const t=this.#n?.filter(s=>s.validity.valid).length;this.#s&&(t===this.#n?.length?this.#s.removeAttribute("data-disabled"):this.#s.setAttribute("data-disabled","true"))}connectedCallback(){this.#t=ir(this,Ah),this.#e=this.querySelector("form"),this.#a=this.getAttribute("handler")||"/test",this.#h=this.hasAttribute("reusable"),this.#o=this.hasAttribute("reset-after-submit"),this.#e&&(this.#i=this.querySelector(".form-tmp-inputs"),this.#e.addEventListener("submit",this.#u),this.#n=[...this.#e.querySelectorAll("input"),...this.#e.querySelectorAll("textarea")],this.#n.forEach(t=>{t.addEventListener("input",this.#c),t.addEventListener("change",this.#c)}),this.#s=this.#e.querySelector('button[type="submit"]'),this.checkValidity(),this.#a==="fetchit"&&(document.addEventListener("fetchit:success",this.#d),document.addEventListener("fetchit:error",this.#p))),this.#t?.addEventListener("popoverOpened",this.#v),this.#t?.addEventListener("popoverClosed",this.#g)}disconnectedCallback(){this.#n?.forEach(t=>{t.removeEventListener("input",this.#c),t.removeEventListener("change",this.#c)}),this.#e?.removeEventListener("submit",this.#u),document.removeEventListener("fetchit:success",this.#d),document.removeEventListener("fetchit:error",this.#p),this.#t?.removeEventListener("popoverOpened",this.#v),this.#t?.removeEventListener("popoverClosed",this.#g)}#u=async t=>{if(t.preventDefault(),q(this,"formSubmit",{custom:!0}),this.#a==="fetchit"||this.#r&&!this.#h)return;this.#r=!0;const s=new FormData(this.#e);s.set("form-name",this.getAttribute("name")||"unknown");for(let n of s)console.log(n[0]+", "+n[1]);this.classList.add("pending");try{this.#a==="/test"?await new Promise(n=>{setTimeout(()=>{n(),this.classList.add("success")},50)}):this.#l=await fetch(this.#a,{method:"POST",body:s}),this.#m()}catch(n){console.error(n),this.#l=n,this.#f()}this.classList.remove("pending")};#c=()=>{this.checkValidity()};#d=t=>{console.log("[fetchit success event]",t);const{form:s}=t?.detail;this.#l=t.detail,this.#e===s&&this.#m()};#p=t=>{console.log("[fetchit error event]",t);const{form:s}=t?.detail;this.#l=t.detail,this.#e===s&&this.#f()};#m(){const t=document.querySelector("e-form-answer");if(t){const s=this.getAttribute("success-title"),n=this.getAttribute("success-message");s&&(t.setText(s,n||""),t.open())}this.#o&&(this.#n?.forEach(s=>{s.type!=="radio"&&s.type!=="checkbox"&&(s.value="")}),this.#c()),q(this,"formSuccess",{custom:!0})}#f(){const t=this.getAttribute("error-message");alert(t),this.#r=!1,q(this,"formError",{custom:!0})}#v=t=>{const s=t.detail.trigger;if(this.#i&&s instanceof HTMLElement)for(const n in s.dataset){const h=s.dataset[n];if(h&&n.toLowerCase().includes("input")){const a=document.createElement("input"),o=n.replace("input","").replace("Input","");o&&(a.type="hidden",a.name=o[0].toLowerCase()+o.slice(1),a.value=h,this.#i.appendChild(a))}}};#g=()=>{this.#i&&(this.#i.innerHTML="")}}customElements.get("e-form")||customElements.define("e-form",Sp);let no;class $p extends HTMLElement{#t=null;#e=null;#s=null;#n=[];#i=[];#r=this.hasAttribute("markers");#a=this.hasAttribute("zones");#h=null;#o=null;get isReady(){return window.ymaps&&this.#t}getDistances(){return this.isReady?this.#i.map(t=>{const s=t.properties.get("iconCaption");if(typeof s=="string"){let n=0;return this.#h&&(n=window.ymaps.coordSystem.geo.getDistance(this.#h.geometry.getCoordinates(),t.geometry.getCoordinates())/1001),{address:s,value:n}}return null}).filter(t=>!!t):[]}async search(t){if(t!==this.getUserAddress()&&this.isReady){if(t.length<3){this.#s.removeAll(),this.#h=null;return}await this.#e.search(t);const s=this.#e.getResultsArray();s.length===1?await this.#l(s[0].geometry.getCoordinates()):(this.#s.removeAll(),this.#h=null)}}toggleMarkers(t){this.#r=t,this.#i.find(s=>{s.options.set({iconOpacity:t?1:0,interactive:!!t,cursor:t?"pointer":"default"})})}toggleZones(t){this.#a=t,this.#n.find(s=>{s.options.set({fillOpacity:this.#a?.25:0,interactive:!!this.#a,cursor:this.#a?"pointer":"default"})})}pickMarker(t){this.#i.forEach(s=>{s.properties.get("iconCaption")===t?s.options.set({iconImageHref:"/images/geo-picked.svg"}):s.options.set({iconImageHref:"/images/geo.svg"})})}getUserAddress(){return this.isReady&&this.#h?this.#h.getAddressLine():""}async findUserLocation(){if(this.isReady)try{const t=await window.ymaps.geolocation.get({provider:"auto"});await this.#l(t.geoObjects.position)}catch(t){console.error(t)}}getZone(){if(this.#h){const t=this.#h.geometry.getCoordinates(),s=this.#n.filter(n=>n.geometry.contains(t)).map(n=>({zone:n.zone,description:n.description,addition:n.addition}));return s[s.length-1]}return null}focusOnGeoObjects(){if(this.isReady&&this.#o){const t=this.#o.getBounds();this.#t.setBounds(t,{checkZoomRange:!0,duration:500})}}connectedCallback(){pe.subscribe(this.#c)}disconnectedCallback(){this.innerHTML="",this.#t?.destroy(),pe.unsubscribe(this.#c)}async#l(t){this.#s.removeAll();const s=await window.ymaps.geocode(t);this.#t.panTo(t);const n=s.geoObjects.get(0);this.#h=n,this.#s.add(this.#h)}async#u(){no||(no=await(await fetch("/map.geojson")).json()),this.isConnected&&(this.#t=new window.ymaps.Map(this,{center:[31.014281,52.42416],zoom:9,behaviors:["default"],controls:[]}),this.#t.events.add("sizechange",()=>{this.focusOnGeoObjects()}),this.#e=new window.ymaps.control.SearchControl({options:{noPlacemark:!0,provider:"yandex#search"}}),this.#s=new window.ymaps.GeoObjectCollection(null,{hintContentLayout:window.ymaps.templateLayoutFactory.createClass("$[properties.name]")}),this.#t.geoObjects.add(this.#s),this.#o=window.ymaps.geoQuery(no).addToMap(this.#t).applyBoundsToMap(this.#t,{checkZoomRange:!0}),this.#n=[],this.#i=[],this.#o.each(t=>{if(t.geometry.getType()==="Polygon"){this.#n.push(t);const[s]=t.properties.get("description")?.split(`
`),n=Ie.findZone(s);t.zone=s,t.description=n?.description,t.addition=n?.addition,t.properties.set("balloonContent",`
              <h2 style="margin-bottom: 5px;">${t.zone}</h2>
              ${t.description?`<h3 style="margin-bottom: 5px;">${t.description}</h3>`:""}
              ${t.addition?`<p style="margin-bottom: 5px;">${t.addition}</p>`:""}
            `),t.options.set({fillColor:t.properties.get("fill"),strokeWidth:0,strokeOpacity:0,fillOpacity:this.#a?.25:0,interactive:!!this.#a,cursor:this.#a?"pointer":"default"})}else t.geometry.getType()==="Point"&&(t.properties.set("balloonContent",t.properties.get("iconCaption")),t.options.set({iconLayout:"default#image",iconImageHref:"/images/geo.svg",iconImageSize:[50,50],iconImageOffset:[-25,-25],iconOpacity:this.#r?1:0,interactive:!!this.#r,cursor:this.#r?"pointer":"default",hideIconOnBalloonOpen:!1}),t.events.add("click",s=>{const h=s.get("target").properties.get("iconCaption");this.pickMarker(h),q(this,"markerClick",{detail:{address:h}})}),this.#i.push(t))}))}#c=()=>{window.ymaps&&(window.ymaps.ready(()=>{this.#u()}),pe.unsubscribe(this.#c))}}customElements.get("e-map")||customElements.define("e-map",$p);class Cp extends HTMLElement{connectedCallback(){T.subscribe(this.#t)}disconnectedCallback(){T.unsubscribe(this.#t)}#t=()=>{this.setAttribute("step",T.step)}}customElements.get("e-order-steps")||customElements.define("e-order-steps",Cp);class Mp extends ou{constructor(){super(),this.addEventListener("toggleChange",t=>{t.detail&&T.setType(t.detail)})}}customElements.get("e-order-type-toggle")||customElements.define("e-order-type-toggle",Mp);function Lp(e,t,s,n){const h=typeof e=="string"?parseInt(e):e;if(h===1)return t;if(h%100>=11&&h%100<=14)return n;const a=h%10;return a===1?t:a>=2&&a<=4?s:n}function cu(e){return Lp(e,"товар","товара","товаров")}let Wp=class extends HTMLElement{#t=null;connectedCallback(){this.#t=this.querySelector(".price-part__title"),T.subscribe(this.#e),x.subscribe(this.#e)}disconnectedCallback(){T.unsubscribe(this.#e),x.unsubscribe(this.#e)}#e=Xs(()=>{const t=this.getAttribute("type");t==="discount"?this.classList.toggle("invisible",!T.discount):t==="products"?this.#t&&(this.#t.textContent=`${x.fullAmount} ${cu(x.fullAmount)}`):t==="delivery"&&this.classList.toggle("invisible",T.type==="pickup"||!T.address||!Ie.userZone)},10)};customElements.get("e-price-part")||customElements.define("e-price-part",Wp);class xp extends HTMLElement{connectedCallback(){T.subscribe(this.#t),x.subscribe(this.#t)}disconnectedCallback(){T.unsubscribe(this.#t),x.unsubscribe(this.#t)}#t=Xs(()=>{const t=this.getAttribute("type");t==="discount"?this.textContent=`- ${_e(T.discount)}`:t==="delivery"?this.textContent=T.deliveryPrice?_e(T.deliveryPrice):Ie.userZone?"Бесплатно":"":t==="products"?this.textContent=_e(x.fullPrice):t==="total"&&(this.textContent=_e(T.finalPrice))},10)}customElements.get("e-price-part-value")||customElements.define("e-price-part-value",xp);class Ap extends HTMLElement{#t=[];#e=null;#s=[];get pid(){return this.getAttribute("pid")||""}get buttonElements(){return this.#t}connectedCallback(){this.#t=[...this.querySelectorAll("e-product-button")],this.#e=this.querySelector("e-toggle"),this.#s=[...this.querySelectorAll("e-price")],Promise.all([customElements.whenDefined("e-product-button"),this.#e?customElements.whenDefined("e-toggle"):null,this.#s.length?customElements.whenDefined("e-price"):null]).then(()=>{this.#n()})}disconnectedCallback(){this.#t.forEach(t=>{t.removeEventListener("productButtonCounterChange",this.#i)}),this.#e?.removeEventListener("toggleChange",this.#h),x.unsubscribe(this.#a)}#n=()=>{if(this.isConnected){const t=x.items.find(s=>s.pid===this.pid);t&&this.#e?.setValue(t.name),this.#t.forEach(s=>{s.addEventListener("productButtonCounterChange",this.#i)}),this.#e&&(this.#e.addEventListener("toggleChange",this.#h),this.#o()),x.subscribe(this.#a)}};#i=t=>{const s=t.currentTarget;this.#r(s)};#r=bu(t=>{const s=t.counter,n=parseInt(this.getAttribute("price")||"0")||0,h=this.getAttribute("name")||"",a=this.getAttribute("description")||"",o=this.getAttribute("image")||"";x.setItem({amount:s,description:a,price:n,name:h,pid:this.pid,image:o})},10);#a=()=>{const t=x.items.find(s=>s.pid===this.pid);t?this.#t.forEach(s=>{s?.set(t.amount)}):x.prevItems&&this.#t.forEach(s=>{s?.set(0)})};#h=()=>{this.#o(!0)};#o(t=!1){x.prevItems&&t&&this.#t.forEach(n=>{n?.set(0)});const s=this.#e?.buttonElement;if(s){const n=s.getAttribute("data-name"),h=s.getAttribute("data-price"),a=s.getAttribute("data-old-price");n&&this.setAttribute("name",n),h&&this.setAttribute("price",h),this.#s.forEach(o=>o?.updateValue(h,a));for(const o in s.dataset){const p=s.dataset[o];if(p&&o.toLowerCase().includes("variant")){const w=o.replace("variant","").replace("Variant","").replace("value","").replace("Value","").toLowerCase();w&&this.querySelectorAll(`[data-variant-prop="${w}"]`).forEach(Z=>{Z&&(Z.textContent=p)})}}}}}customElements.get("e-product")||customElements.define("e-product",Ap);const Tp=Ks({":host":{display:"inline-grid"},".placeholder":{boxSizing:"border-box",gridColumn:"1/1",gridRow:"1/1",fontSize:"1.6rem",fontWeight:"600",position:"relative",zIndex:1,display:"none",alignItems:"center",justifyContent:"center",width:"100%",padding:"0 1.6rem",backgroundColor:"var(--background-color, var(--color-primary-2))",color:"var(--color, var(--color-primary-1))",borderRadius:"var(--border-radius-1)",cursor:"pointer",userSelect:"none"},":host(.has-placeholder) .placeholder":{display:"flex"},":host(.positive-value) .placeholder":{display:"none"},".content":{boxSizing:"border-box",gridColumn:"1/1",gridRow:"1/1",fontWeight:"600",lineHeight:"120%",display:"inline-flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"var(--padding, 0.6rem)",color:"var(--color-primary-2)",border:"0.1rem solid var(--color-primary-2)",borderRadius:"var(--border-radius-1)"},':host([size="big"]) .content, :host([size="always-big"]) .content':{gap:"1.6rem"},':host([size="small"]) .content':{gap:"1.2rem"},".value":{fontVariantNumeric:"tabular-nums"},':host([size="big"]) .value, :host([size="always-big"]) .value':{fontSize:"1.6rem"},':host([size="small"]) .value':{fontSize:"1.2rem"},".sign":{boxSizing:"border-box",borderRadius:"0.3rem",display:"inline-flex",alignItems:"center",justifyContent:"center",userSelect:"none",border:"none",background:"none",fontFamily:"inherit",color:"inherit",cursor:"pointer",padding:"0"},':host([size="big"]) .sign, :host([size="always-big"]) .sign':{fontSize:"2.4rem",width:"2.4rem",height:"2.4rem"},':host([size="small"]) .sign':{fontSize:"1.6rem",width:"1.5rem",height:"1.5rem"},".plus":{borderLeft:"0.1rem solid var(--color-primary-2)"},".minus":{borderRight:"0.1rem solid var(--color-primary-2)"},"@media(max-width: 768px)":{".placeholder":{fontSize:"1.4rem"},".content":{borderRadius:"0.8rem"},':host([size="big"]) .content':{gap:"1.2rem"},':host([size="big"]) .value':{fontSize:"1.2rem"},':host([size="big"]) .sign':{fontSize:"1.6rem",width:"1.5rem",height:"1.5rem"}}});class Pp extends HTMLElement{#t;#e;#s;#n;#i=0;#r=99;#a=!0;constructor(){super();const t=this.attachShadow({mode:"open"});t.adoptedStyleSheets=[...t.adoptedStyleSheets,Tp],t.innerHTML=`
        <div class="placeholder"></div>
        <div class="content">
          <button class="minus sign">-</button>
          <div class="value"></div>
          <button class="plus sign">+</button>
        </div>
      `,this.#t=t.querySelector(".placeholder"),this.#e=t.querySelector(".minus"),this.#n=t.querySelector(".value"),this.#s=t.querySelector(".plus"),this.#e?.addEventListener("click",()=>{this.shift(-1)}),this.#s?.addEventListener("click",()=>{this.shift(1)}),this.addEventListener("click",()=>{this.#a&&this.classList.contains("has-placeholder")&&this.set(1)})}get counter(){return this.#i}set(t){const s=this.#i;this.#i=ti(t,0,this.#r),this.#n&&(this.#n.textContent=this.#i.toString()||"0"),s!==this.#i&&(this.classList.toggle("positive-value",!!this.#i),setTimeout(()=>{this.#a=!this.#i}),q(this,"productButtonCounterChange",{detail:{counter:this.#i}}))}shift(t){this.set(this.#i+t)}setPlaceholder(t){this.#t.textContent=t,this.classList.toggle("has-placeholder",!!t)}connectedCallback(){const t=this.getAttribute("placeholder")||"",s=parseInt(this.getAttribute("max")||"99")||99,n=parseInt(this.getAttribute("counter")||"0")||0;this.setPlaceholder(t),this.#r=s,this.set(n),this.setAttribute("data-popover-content","")}}customElements.get("e-product-button")||customElements.define("e-product-button",Pp);class Op extends HTMLElement{#t=null;#e=null;#s=new Zo(this,{success:!1,error:!1,pending:!1});#n=null;#i="";connectedCallback(){this.#t=this.querySelector("e-form"),this.#t?.addEventListener("formSubmit",this.#r),this.#t?.addEventListener("formSuccess",this.#a),this.#t?.addEventListener("formError",this.#h),this.#e=this.querySelector(".promocode__info"),this.#n=this.querySelector(".promocode__input")}disconnectedCallback(){this.#t?.removeEventListener("formSubmit",this.#r),this.#t?.removeEventListener("formSuccess",this.#a),this.#t?.removeEventListener("formError",this.#h),this.#s.close()}#r=()=>{this.#i=this.#n?.value||"",this.#s.reset(),this.#s.set("pending",!0),this.#d("Проверяем промокод")};#a=async()=>{const t=await this.#c();this.#o(t)};#h=()=>{this.#o(0)};#o(t){t?this.#l(t):this.#u()}#l(t){this.#d("Промокод применен"),this.#s.set("pending",!1),this.#s.set("success",!0),T.setPromocode(this.#i,t)}#u(){this.#d("Промокод не найден"),this.#s.set("pending",!1),this.#s.set("error",!0),T.setPromocode(this.#i,0)}async#c(){return await pp(1e3),Math.random()>.5?Math.random()*1e3:0}#d(t){this.#e&&(this.#e.textContent=t)}}customElements.get("e-promocode")||customElements.define("e-promocode",Op);const Ip=Ks({":host":{display:"inline-flex",alignItems:"center",gap:"var(--gap, 0.2rem)"},svg:{width:"var(--star-size, 2.4rem)",height:"var(--star-size, 2.4rem)",stroke:"var(--star-color, var(--color-functional-1))",transitionDuration:"var(--transition-duration, 0s)",transitionProperty:"fill, stroke"},':host([stars="1"]) svg:nth-child(1)':{fill:"var(--star-color, var(--color-functional-1))"},':host([stars="2"]) svg:nth-child(1), :host([stars="2"]) svg:nth-child(2)':{fill:"var(--star-color, var(--color-functional-1))"},':host([stars="3"]) svg:nth-child(1), :host([stars="3"]) svg:nth-child(2), :host([stars="3"]) svg:nth-child(3)':{fill:"var(--star-color, var(--color-functional-1))"},':host([stars="4"]) svg:nth-child(1), :host([stars="4"]) svg:nth-child(2), :host([stars="4"]) svg:nth-child(3), :host([stars="4"]) svg:nth-child(4)':{fill:"var(--star-color, var(--color-functional-1))"},':host([stars="5"]) svg:nth-child(1), :host([stars="5"]) svg:nth-child(2), :host([stars="5"]) svg:nth-child(3), :host([stars="5"]) svg:nth-child(4), :host([stars="5"]) svg:nth-child(5)':{fill:"var(--star-color, var(--color-functional-1))"},':host([stars="1"][hide-empty]) svg:nth-child(5), :host([stars="1"][hide-empty]) svg:nth-child(4), :host([stars="1"][hide-empty]) svg:nth-child(3) , :host([stars="1"][hide-empty]) svg:nth-child(2)':{display:"none"},':host([stars="2"][hide-empty]) svg:nth-child(5), :host([stars="2"][hide-empty]) svg:nth-child(4), :host([stars="2"][hide-empty]) svg:nth-child(3)':{display:"none"},':host([stars="3"][hide-empty]) svg:nth-child(5), :host([stars="3"][hide-empty]) svg:nth-child(4)':{display:"none"},':host([stars="4"][hide-empty]) svg:nth-child(5)':{display:"none"}});class _p extends HTMLElement{constructor(){super();const t=this.attachShadow({mode:"open"});t.innerHTML=`
        <svg>
          <use xlink:href="/sprite.svg#sprite:star"></use>
        </svg>
        <svg>
          <use xlink:href="/sprite.svg#sprite:star"></use>
        </svg>
        <svg>
          <use xlink:href="/sprite.svg#sprite:star"></use>
        </svg>
        <svg>
          <use xlink:href="/sprite.svg#sprite:star"></use>
        </svg>
        <svg>
          <use xlink:href="/sprite.svg#sprite:star"></use>
        </svg>
      `,t.adoptedStyleSheets=[...t.adoptedStyleSheets,Ip]}}customElements.get("e-rating")||customElements.define("e-rating",_p);function zp(e){return e.map(t=>[Math.random(),t]).sort(([t],[s])=>t-s).map(([t,s])=>s)}class Hp extends HTMLElement{#t=null;#e=null;#s=[];#n=null;connectedCallback(){this.#t=document.querySelector("e-basket"),this.#e=this.querySelector(".suggestion-products__content"),this.#s=[...this.querySelectorAll(".suggestion-product")],this.#s.forEach(t=>{t.remove()}),this.#t?this.#t.addEventListener("popoverOpened",this.#i):this.#r()}disconnectedCallback(){this.#t?.removeEventListener("popoverOpened",this.#i),this.#n?.remove(),this.#e&&this.#e.append(...this.#s)}#i=()=>{this.#r()};#r(){if(this.#e){this.#n?.remove();const t=this.#s.filter(h=>!x.items.find(a=>a.pid===h.pid)),n=zp(t).slice(0,4);n.length?(this.style.display="",this.#n=new sr,this.#n.append(...n),this.#e.appendChild(this.#n)):this.style.display="none"}}}customElements.get("e-suggestion-products")||customElements.define("e-suggestion-products",Hp);class qp{#t;#e;#s;#n=!1;constructor(t){this.#t=document.createElement("label"),this.#t.className="f-d-16-r f-d-14-r suggestions-input__suggestion",this.#t.innerHTML=`
        <span class="suggestions-input__suggestion__line-1">${t.value}</span>
        ${t.additional?`<span class="suggestions-input__suggestion__line-2">${t.additional}</span>`:""}
      `,this.#e=this.#t.querySelector("input"),this.#s=t.value}get element(){return this.#t}get inputElement(){return this.#e}get value(){return this.#s}get matched(){return this.#n}match(t){return this.#s.toLowerCase().includes(t.toLowerCase())?(this.#n=!0,this.#t.style.display=""):(this.#n=!1,this.#t.style.display="none"),this.#n}}class Vp extends HTMLElement{#t=null;#e=null;#s=[];#n=new Zo(this,{"suggestions-visible":!1});get inputElement(){return this.#t}get value(){return this.#t?.value}set value(t){this.#t&&(this.#t.value=t||"",this.#t.dispatchEvent(new Event("change",{bubbles:!0})))}provideSuggestions(t){this.#s.forEach(s=>{s.element.removeEventListener("pointerdown",this.#o)}),this.#s=[],t.forEach(s=>{if(s.value!==this.value){const n=new qp(s);this.#s.push(n)}}),this.#e&&(this.#s.forEach(s=>{s.element.addEventListener("pointerdown",this.#o)}),this.#e.innerHTML="",this.#s.length&&this.#e.append(...this.#s.map(s=>s.element)))}connectedCallback(){this.#t=this.querySelector(".suggestions-input__input"),this.#e=this.querySelector(".suggestions-input__suggestions");const t=this.getAttribute("suggestions")?.split(",").map(s=>s.trim());t&&this.provideSuggestions(t.map(s=>({value:s}))),this.#t?.addEventListener("input",this.#i),this.#t?.addEventListener("blur",this.#a),this.#t?.addEventListener("focus",this.#r)}disconnectedCallback(){this.#s.forEach(t=>{t.element.removeEventListener("pointerdown",this.#o)}),this.#t?.removeEventListener("blur",this.#a),this.#t?.removeEventListener("focus",this.#r),this.#s=[],this.#e&&(this.#e.innerHTML=""),this.#n.reset()}#i=()=>{this.#h()};#r=()=>{this.#h()};#a=()=>{this.#n.set("suggestions-visible",!1)};#h(){this.#t&&(this.#s.filter(n=>n.match(this.#t.value)).filter((n,h)=>h>4?(n.match("__HIDE__"),!1):!0).length?this.#n.set("suggestions-visible",!0):this.#n.set("suggestions-visible",!1))}#o=t=>{const s=t.currentTarget,n=this.#s.find(h=>h.element===s);n&&(this.#t&&(this.#t.value=n.value,this.#t.dispatchEvent(new Event("change",{bubbles:!0}))),this.#e&&this.#n.set("suggestions-visible",!1))}}customElements.get("e-suggestions-input")||customElements.define("e-suggestions-input",Vp);class Rp extends Ah{#t=null;#e=null;#s=null;connectedCallback(){super.connectedCallback(),this.#t=this.querySelector(".basket__head"),this.#e=this.querySelector(".basket__items-container"),this.#s=this.querySelector(".basket__order-button"),this.#e&&x.subscribe(this.#n),this.#s?.addEventListener("click",this.#i)}disconnectedCallback(){super.disconnectedCallback(),x.unsubscribe(this.#n),this.#s?.removeEventListener("click",this.#i)}#n=()=>{const t=[...this.#e.children];x.items.forEach(s=>{const n=t.find(h=>h.pid===s.pid);if(n)n.productButtonElement.set(s.amount);else{const h=document.createElement("e-basket-item");h.setAttribute("pid",s.pid),h.setAttribute("name",s.name),h.setAttribute("image",s.image),h.setAttribute("description",s.description||""),h.setAttribute("price",s.price.toString()),h.setAttribute("amount",s.amount.toString()),this.#e?.appendChild(h)}}),t.forEach(s=>{x.items.find(h=>h.pid===s.pid)||s.remove()}),x.fullAmount?(this.#t&&(this.#t.textContent=`${x.fullAmount} ${cu(x.fullAmount)} на ${_e(x.fullPrice)}`),this.#s?.removeAttribute("data-disabled")):(this.#s?.setAttribute("data-disabled",""),this.#t&&(this.#t.textContent=""))};#i=()=>{this.close()}}customElements.get("e-basket")||customElements.define("e-basket",Rp);class Dp extends HTMLElement{connectedCallback(){const t=this.getAttribute("name")||"",s=this.getAttribute("description")||"",n=this.getAttribute("addition")||"",h=this.getAttribute("free")||"0",a=this.getAttribute("price")||"0";Ie.addZone({name:t,description:s,addition:n,free:parseInt(h),price:parseInt(a)})}disconnectedCallback(){const t=this.getAttribute("name")||"";Ie.removeZone(t)}}customElements.get("e-delivery-zone")||customElements.define("e-delivery-zone",Dp);class Fp extends lc{#t=null;#e=null;setText(t,s){this.#t&&(this.#t.innerHTML=t),this.#e&&(this.#e.innerHTML=s||"")}connectedCallback(){super.connectedCallback(),this.#t=this.querySelector(".form-answer__title"),this.#e=this.querySelector(".form-answer__message")}disconnectedCallback(){super.disconnectedCallback()}}customElements.get("e-form-answer")||customElements.define("e-form-answer",Fp);const Np=document.querySelectorAll(".header__nav__link"),Bp=document.querySelector(".header__menu");Np.forEach(e=>{e.addEventListener("click",()=>{Bp?.close()})});class jp extends lc{#t=[];#e=null;#s=null;#n=null;#i=null;#r=null;#a=[];#h=0;constructor(){super(),this.addEventListener("popoverOpened",()=>{T.type==="delivery"&&this.#s?.focus()})}connectedCallback(){super.connectedCallback(),this.#t=[...this.querySelectorAll("[data-order-type]")],this.#e=this.querySelector(".order-type__delivery__price"),this.#s=this.querySelector(".order-type__delivery__input"),this.#s?.addEventListener("input",this.#l),this.#n=this.querySelector(".order-type__pickup__input-group"),this.#n?.addEventListener("inputGroupValueChange",this.#m),this.#i=this.querySelector("e-map"),this.#i?.addEventListener("markerClick",this.#g),this.#r=this.querySelector(".order-type__location"),this.#r?.addEventListener("click",this.#v),this.#a=[...this.querySelectorAll("[data-distance-value]")],Promise.all([customElements.whenDefined("e-map")]).then(()=>{this.isConnected&&T.subscribeToType(this.#o)}),addEventListener("keydown",t=>{t.key==="0"&&this.open()})}disconnectedCallback(){super.disconnectedCallback(),this.#s?.removeEventListener("input",this.#l),this.#n?.removeEventListener("inputGroupValueChange",this.#m),this.#i?.removeEventListener("markerClick",this.#g),this.#r?.removeEventListener("click",this.#v),T.unsubscribeFromType(this.#o)}#o=()=>{this.#t.forEach(t=>{t.getAttribute("data-order-type")===T.type?t.ariaHidden="false":t.ariaHidden="true"}),T.type==="pickup"?(this.#i?.toggleMarkers(!0),this.#i?.toggleZones(!1),this.#f()):(this.#i?.toggleMarkers(!1),this.#i?.toggleZones(!0),this.#p())};#l=Xs(()=>{this.#p()},50);async#u(t){document.documentElement.classList.add("location-search"),await t(),this.#c(),this.#d(),document.documentElement.classList.remove("location-search")}#c(){const t=this.#i?.getDistances();this.#a.forEach(s=>{const n=s.getAttribute("data-distance-value"),h=t?.find(a=>a.address===n);h?.value?s.textContent=h.value.toFixed(2)+" км":s.textContent=""})}#d(){const t=this.#i?.getZone();this.#e&&(t?.description?this.#e.textContent=t.description:this.#i?.getUserAddress()?this.#e.textContent="Вы не попадаете в зону доставки. Возможность доставки за город или на удаленные районы обсуждается индивидуально.":this.#e.textContent=""),Ie.setUserZone(t?.zone)}async#p(){const t=this.#s?.value;if(this.#i){await this.#u(()=>this.#i.search(t||""));const s=this.#i.getUserAddress();this.classList.toggle("invalid-address",!s),T.setAddress(s)}}#m=()=>{this.#f()};#f(){const t=this.#n?.value||"";T.setAddress(t),this.#i?.pickMarker(t),this.classList.toggle("invalid-address",!t)}#v=async()=>{if(this.#i){const t=++this.#h;await this.#u(()=>this.#i.findUserLocation()),t===this.#h&&(this.#s&&(this.#s.value=this.#i.getUserAddress(),this.#s.dispatchEvent(new Event("input"))),location||alert("Не удалось установить ваше местоположение"))}};#g=t=>{T.type==="pickup"&&this.#n?.changeValue(t.detail.address)}}customElements.get("e-order-type")||customElements.define("e-order-type",jp);class Up extends HTMLElement{#t=null;#e=null;#s=null;#n=[];#i=[];#r=null;connectedCallback(){this.#t=this.querySelector(".menu__nav-popover"),this.#e=this.querySelector(".menu__nav-button__value"),this.#s=this.querySelector(".menu__nav"),this.#n=[...this.querySelectorAll(".menu__item")],this.#i=[...this.querySelectorAll(".menu__subcategory-input-group")],this.#s?.addEventListener("inputGroupValueChange",this.#a),this.#i.forEach(t=>{t.addEventListener("inputGroupValueChange",this.#h)}),Promise.all([customElements.whenDefined("e-popover"),customElements.whenDefined("e-input-group")]).then(()=>{this.isConnected&&this.#o()})}disconnectedCallback(){this.#s?.removeEventListener("inputGroupValueChange",this.#a),this.#i.forEach(t=>{t.removeEventListener("inputGroupValueChange",this.#h)})}#a=()=>{this.#o(!0)};#h=()=>{this.#l()};#o(t=!1){const s=this.#s?.value;this.#r=null,s&&(this.#e&&(this.#e.textContent=s),this.#r=this.#i.find(n=>n.name===s)||null,this.#i.forEach(n=>{n.name===s?(this.#r=n,n.ariaHidden="false"):n.ariaHidden="true"})),this.#l(),this.#h(),this.#t?.close(),t&&ol(this,{offset:".header",behavior:"smooth"})}#l(){const t=this.#s?.value,s=this.#r?.value;this.#n.forEach(n=>{const h=n.getAttribute("data-categories")?.split(",").map(p=>p.trim()),a=n.getAttribute("data-subcategories")?.split(",").map(p=>p.trim());let o=0;t&&!h?.find(p=>p===t)&&o++,s&&!a?.find(p=>p===s)&&o++,n.ariaHidden=o?"true":"false"})}}customElements.get("e-menu")||customElements.define("e-menu",Up);class Gp extends HTMLElement{#t=null;#e=null;connectedCallback(){this.#t=this.querySelector("e-toggle"),this.#e=this.querySelector("e-map"),customElements.whenDefined("e-map").then(()=>{this.isConnected&&(this.#e?.toggleMarkers(!0),this.#e?.toggleZones(!1),this.#t?.addEventListener("toggleChange",this.#s),this.#e?.addEventListener("markerClick",this.#n))})}disconnectedCallback(){this.#t?.removeEventListener("toggleChange",this.#s)}#s=()=>{this.#e?.pickMarker(this.#t.value||"")};#n=t=>{this.#t?.setValue(t.detail.address)}}customElements.get("e-addresses")||customElements.define("e-addresses",Gp);const Zp=Ks({":host":{display:"flex",alignItems:"center",gap:"1.2rem"},".value":{fontSize:"2rem",lineHeight:"120%",fontWeight:"600",color:"var(--color-secondary-3)"},":host(.has-old-value) .value:not(.old)":{color:"var(--color-functional-1)"},".old":{position:"relative",color:"var(--color-secondary-3)",display:"flex",alignItems:"center",justifyContent:"center"},".old::after":{content:'""',position:"absolute",display:"block",width:"100%",height:"0.15rem",backgroundColor:"var(--color-secondary-3)",transform:"rotate(-25deg)"}});class Yp extends HTMLElement{#t;#e;#s=0;constructor(){super();const t=this.attachShadow({mode:"open"});t.adoptedStyleSheets=[...t.adoptedStyleSheets,Zp],t.innerHTML=`
        <div class="value"></div>
        <div class="value old"></div>
      `,this.#t=t.querySelector(".value"),this.#e=t.querySelector(".old")}get value(){return this.#s}updateValue(t,s){this.#s=parseInt(t?.toString()||"0")||0,this.#t.textContent=_e(this.#s||0),s?(this.classList.add("has-old-value"),this.#e.textContent=_e(s||0)):(this.classList.remove("has-old-value"),this.#e.textContent="")}connectedCallback(){this.updateValue(this.getAttribute("value"),this.getAttribute("old-value"))}}customElements.get("e-price")||customElements.define("e-price",Yp);
